{"flowContents":{"identifier":"edfa7040-902a-33a6-b170-c0d22e698d63","instanceIdentifier":"08960019-0194-1000-0000-000033a8274c","name":"Integrator_Framework (InstantX)","comments":"Contains all the Process Groups and Nifi Flows related with the Integrator Framework","position":{"x":5472.0,"y":-240.0},"processGroups":[{"identifier":"563f6450-b155-303a-aca4-061a991a0089","instanceIdentifier":"8b763a65-27b5-1f1d-9231-2ecf4391f345","name":"Encoder Engine","comments":"","position":{"x":2416.0,"y":720.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"a5bd8144-30cc-3d42-b4ee-c416286e11d5","instanceIdentifier":"39eb3931-3cbf-1a81-8408-9e3e3322fedd","name":"GenerateFlowFile","comments":"","position":{"x":-120.0,"y":568.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"character-set":"UTF-8","attributelist":"{\n\t\"message.identifier\": \"f017fce2-1e7e-4b2e-965d-fef355b253ff\",\n\t\"message.type\": \"IVIM\",\n\t\"message.format\": \"xml\",\n\t\"message.contentIndex\": 3,\n\t\"provider\": \"Commsignia\",\n\t\"customer.id\": \"public\",\n\t\"reference.longitude\": \"-5324351\",\n\t\"message.timestamp\": \"2022-08-30T11:08:13.129165Z\",\n\t\"reference.latitude\": \"517413856\",\n\t\"action\": \"UPDATE\"\n}","metadata":"{\n\t\"message.identifier\": \"f017fce2-1e7e-4b2e-965d-fef355b253ff\",\n\t\"message.type\": \"IVIM\",\n\t\"message.format\": \"xml\",\n\t\"message.contentIndex\": 3,\n\t\"provider\": \"Commsignia\",\n\t\"customer.id\": \"public\",\n\t\"reference.longitude\": \"-5324351\",\n\t\"message.timestamp\": \"2022-08-30T11:08:13.129165Z\",\n\t\"reference.latitude\": \"517413856\",\n\t\"action\": \"UPDATE\"\n}","File Size":"0B","mime-type":null,"generate-ff-custom-text":"<IvimEtsi><gbcGacHeader><basicHeader><version>1</version><nextHeader>1</nextHeader><reserved>0</reserved><lifeTime><multiplier>19</multiplier><base>0</base></lifeTime><remaingHop>1</remaingHop></basicHeader><commonHeader><nextHeader>2</nextHeader><reserved1>0</reserved1><headerType>4</headerType><headerSubType>0</headerSubType><traficClass><scf><false/></scf><channelOffload><false/></channelOffload><tcID>0</tcID></traficClass><flags><mobile><true/></mobile><reserved>0</reserved></flags><payloadLength>84</payloadLength><maxHopLimit>1</maxHopLimit><reserved2>0</reserved2></commonHeader><sequenceNumber>1</sequenceNumber><reserved1>0</reserved1><sopv><address><configuration><manual/></configuration><stationType>0</stationType><reserved>0</reserved><mid><lsb>0</lsb><msb>0</msb></mid></address><tst>3590519126</tst><latitude>412338676</latitude><longitude>-86204710</longitude><pai><false/></pai><speed>-16293</speed><heading>1</heading></sopv><geoArea><lat>412338676</lat><long>-86204710</long><distanceA>0</distanceA><distanceB>0</distanceB><angle>0</angle></geoArea><reserved2>0</reserved2></gbcGacHeader><btpb><destinationPort>2006</destinationPort><destinationPortInfo>0</destinationPortInfo></btpb><ivim><header><protocolVersion>2</protocolVersion><messageID>6</messageID><stationID>156255831</stationID></header><ivi><mandatory><serviceProviderId><countryCode>0101110011</countryCode><providerIdentifier>0</providerIdentifier></serviceProviderId><iviIdentificationNumber>1</iviIdentificationNumber><timeStamp>574821169332</timeStamp><validFrom>574821169335</validFrom><validTo>574905605000</validTo><iviStatus>0</iviStatus></mandatory><optional><glc><referencePosition><latitude>412338676</latitude><longitude>-86204710</longitude><positionConfidenceEllipse><semiMajorConfidence>4095</semiMajorConfidence><semiMinorConfidence>4095</semiMinorConfidence><semiMajorOrientation>3601</semiMajorOrientation></positionConfidenceEllipse><altitude><altitudeValue>1000</altitudeValue><altitudeConfidence><unavailable/></altitudeConfidence></altitude></referencePosition><referencePositionHeading><headingValue>1</headingValue><headingConfidence>127</headingConfidence></referencePositionHeading><referencePositionSpeed><speedValue>90</speedValue><speedConfidence>127</speedConfidence></referencePositionSpeed><parts><GlcPart><zoneId>1</zoneId><zoneHeading>2437</zoneHeading><zone><segment><line><deltaPositions><DeltaPosition><deltaLatitude>0</deltaLatitude><deltaLongitude>0</deltaLongitude></DeltaPosition><DeltaPosition><deltaLatitude>-340</deltaLatitude><deltaLongitude>-1121</deltaLongitude></DeltaPosition></deltaPositions></line></segment></zone></GlcPart></parts></glc><giv><GicPart><detectionZoneIds><Zid>4</Zid><Zid>5</Zid></detectionZoneIds><relevanceZoneIds><Zid>1</Zid><Zid>2</Zid><Zid>3</Zid></relevanceZoneIds><direction>3</direction><applicableLanes><LanePosition>2</LanePosition><LanePosition>3</LanePosition><LanePosition>4</LanePosition></applicableLanes><iviType>0</iviType><roadSignCodes><RSCode><code><iso14823><pictogramCode><countryCode>7406</countryCode><serviceCategoryCode><trafficSignPictogram><informative/></trafficSignPictogram></serviceCategoryCode><pictogramCategoryCode><nature>9</nature><serialNumber>53</serialNumber></pictogramCategoryCode></pictogramCode></iso14823></code></RSCode></roadSignCodes></GicPart></giv></optional></ivi></ivim></IvimEtsi>","Batch Size":"100","Unique FlowFiles":"false","JSONAttributes":"{\n\t\"message.identifier\": \"f017fce2-1e7e-4b2e-965d-fef355b253ff\",\n\t\"message.type\": \"IVIM\",\n\t\"message.format\": \"xml\",\n\t\"message.contentIndex\": 3,\n\t\"provider\": \"Commsignia\",\n\t\"customer.id\": \"public\",\n\t\"reference.longitude\": \"-5324351\",\n\t\"message.timestamp\": \"2022-08-30T11:08:13.129165Z\",\n\t\"reference.latitude\": \"517413856\",\n\t\"action\": \"UPDATE\"\n}","relay.errors":"true","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"attributelist":{"name":"attributelist","displayName":"attributelist","identifiesControllerService":false,"sensitive":false},"metadata":{"name":"metadata","displayName":"metadata","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"JSONAttributes":{"name":"JSONAttributes","displayName":"JSONAttributes","identifiesControllerService":false,"sensitive":false},"relay.errors":{"name":"relay.errors","displayName":"relay.errors","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"10 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"0458d0b2-f13a-300f-990b-6b7225bf0115","instanceIdentifier":"515b366e-0854-1ede-b5e7-cd34819f2fe9","name":"Python Encoder","comments":"","position":{"x":2432.0,"y":512.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"filename":"encoder_decoder.py","generate-ff-custom-text":"import sys\nimport asn1tools\nimport os\nfrom pathlib import Path\nimport json\nimport xml.etree.ElementTree as ET\nfrom binascii import hexlify\n\n\n# Debug: Log the input data\n# sys.stderr.write(f\"Input data: {input_data}\\n\")\n\ntry:  \n  \n  # Read JSON input from stdin\n  input_data = sys.stdin.read()\n\n  # messageType = os.environ.get(\"messageType\")\n  messageType = sys.argv[1]\n  # print(f\"messageType {messageType}\")\n  data_dict = json.loads(input_data)\n# sys.stderr.write(f\"Input data type: {type(data_dict)}\\n\")\n  DATA_FOLDER = os.path.join(os.path.dirname(__file__), 'asn')\n  asn1_files = [os.path.join(DATA_FOLDER, f) for f in os.listdir(DATA_FOLDER) if f.endswith('.asn')]\n  encoder = asn1tools.compile_files(asn1_files, codec='uper', any_defined_by_choices=None, encoding='utf-8', numeric_enums=False)\n  service_type = messageType\n\n# # Encode the data\n# try:\n  encoded = encoder.encode(service_type, data_dict)\n    # Debug: Log the encoded data\n    # sys.stderr.write(f\"Encoded data: {encoded}\\n\")\n  message = hexlify(encoded).decode('ascii')\n  print(message)\n  sys.exit(0)\nexcept asn1tools.codecs.EncodeError as e:\n    sys.stderr.write(f\"EncodeError: {e}\\n\")\n    sys.exit(1)","Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"38240d2c-9785-3e44-9c46-eed417060332","instanceIdentifier":"867a31d7-e432-13a5-a041-ac14412432a3","name":"Extract Encoder Attributes","comments":"","position":{"x":760.0,"y":768.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"message.identifier":"${metadata:jsonPath(\"$['message.identifier']\")}","Delete Attributes Expression":null,"message.type":"${metadata:jsonPath(\"$['message.type']\")}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","provider":"${metadata:jsonPath(\"$['provider']\")}","message.format":"${metadata:jsonPath(\"$['message.format']\")}","Stateful Variables Initial Value":null,"message.key":"${metadata:jsonPath(\"$['message.key']\")}"},"propertyDescriptors":{"message.identifier":{"name":"message.identifier","displayName":"message.identifier","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"message.type":{"name":"message.type","displayName":"message.type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"provider":{"name":"provider","displayName":"provider","identifiesControllerService":false,"sensitive":false},"message.format":{"name":"message.format","displayName":"message.format","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"message.key":{"name":"message.key","displayName":"message.key","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"1bfbaadd-2178-371c-8030-b8589c4d6d51","instanceIdentifier":"62d63234-d384-1791-965f-022320aefac4","name":"Consume from Encoder Topic","comments":"","position":{"x":760.0,"y":568.0},"type":"org.apache.nifi.processors.kafka.pubsub.ConsumeKafka_2_6","bundle":{"group":"org.apache.nifi","artifact":"nifi-kafka-2-6-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"header-name-regex":null,"Commit Offsets":"true","group.id":"#{kafka.group.encoder}","bootstrap.servers":"#{kafka.brokers}","topic_type":"names","sasl.kerberos.principal":null,"sasl.kerberos.service.name":null,"kerberos-credentials-service":null,"max-uncommit-offset-wait":"1 secs","sasl.mechanism":"GSSAPI","honor-transactions":"true","kerberos-user-service":null,"message-header-encoding":"UTF-8","message-demarcator":null,"sasl.username":"#{kafka.security.username}","max.poll.records":"10000","security.protocol":"PLAINTEXT","ssl.context.service":null,"sasl.token.auth":"false","sasl.kerberos.keytab":null,"Communications Timeout":"60 secs","topic":"#{kafka.topic.encoder}","separate-by-key":"false","sasl.password":"#{kafka.security.password}","key-attribute-encoding":"utf-8","auto.offset.reset":"latest"},"propertyDescriptors":{"header-name-regex":{"name":"header-name-regex","displayName":"Headers to Add as Attributes (Regex)","identifiesControllerService":false,"sensitive":false},"Commit Offsets":{"name":"Commit Offsets","displayName":"Commit Offsets","identifiesControllerService":false,"sensitive":false},"group.id":{"name":"group.id","displayName":"Group ID","identifiesControllerService":false,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"topic_type":{"name":"topic_type","displayName":"Topic Name Format","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.principal":{"name":"sasl.kerberos.principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"max-uncommit-offset-wait":{"name":"max-uncommit-offset-wait","displayName":"Max Uncommitted Time","identifiesControllerService":false,"sensitive":false},"sasl.mechanism":{"name":"sasl.mechanism","displayName":"SASL Mechanism","identifiesControllerService":false,"sensitive":false},"honor-transactions":{"name":"honor-transactions","displayName":"Honor Transactions","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"message-header-encoding":{"name":"message-header-encoding","displayName":"Message Header Encoding","identifiesControllerService":false,"sensitive":false},"message-demarcator":{"name":"message-demarcator","displayName":"Message Demarcator","identifiesControllerService":false,"sensitive":false},"sasl.username":{"name":"sasl.username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"max.poll.records":{"name":"max.poll.records","displayName":"Max Poll Records","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"sasl.token.auth":{"name":"sasl.token.auth","displayName":"Token Auth","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.keytab":{"name":"sasl.kerberos.keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false},"topic":{"name":"topic","displayName":"Topic Name(s)","identifiesControllerService":false,"sensitive":false},"separate-by-key":{"name":"separate-by-key","displayName":"Separate By Key","identifiesControllerService":false,"sensitive":false},"sasl.password":{"name":"sasl.password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"key-attribute-encoding":{"name":"key-attribute-encoding","displayName":"Key Attribute Encoding","identifiesControllerService":false,"sensitive":false},"auto.offset.reset":{"name":"auto.offset.reset","displayName":"Offset Reset","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"0ed305ae-83e1-3f6e-a0d9-580193d0c8a6","instanceIdentifier":"79c431dc-3061-19a7-9c3c-85c9bcc4b44e","name":"GenerateFlowFile For DenmEtsi with Json format","comments":"","position":{"x":-128.0,"y":1016.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"character-set":"UTF-8","attributelist":"{\n\t\"message.identifier\": \"f017fce2-1e7e-4b2e-965d-fef355b253ff\",\n\t\"message.type\": \"DenmEtsi\",\n\t\"message.format\": \"json\",\n\t\"message.contentIndex\": 3,\n\t\"provider\": \"Commsignia\",\n\t\"customer.id\": \"public\",\n\t\"reference.longitude\": \"-5324351\",\n\t\"message.timestamp\": \"2022-08-30T11:08:13.129165Z\",\n\t\"reference.latitude\": \"517413856\",\n\t\"action\": \"UPDATE\"\n}","metadata":"{\n\t\"message.identifier\": \"f017fce2-1e7e-4b2e-965d-fef355b253ff\",\n\t\"message.type\": \"DenmEtsi\",\n\t\"message.format\": \"json\",\n\t\"message.contentIndex\": 3,\n\t\"provider\": \"Commsignia\",\n\t\"customer.id\": \"public\",\n\t\"reference.longitude\": \"-5324351\",\n\t\"message.timestamp\": \"2022-08-30T11:08:13.129165Z\",\n\t\"reference.latitude\": \"517413856\",\n\t\"action\": \"UPDATE\"\n}","File Size":"0B","mime-type":null,"generate-ff-custom-text":"{\"gbcGacHeader\":{\"basicHeader\":{\"version\":1,\"nextHeader\":1,\"reserved\":0,\"lifeTime\":{\"multiplier\":19,\"base\":0},\"remaingHop\":1},\"commonHeader\":{\"nextHeader\":2,\"reserved1\":0,\"headerType\":4,\"headerSubType\":0,\"traficClass\":{\"scf\":false,\"channelOffload\":false,\"tcID\":0},\"flags\":{\"mobile\":true,\"reserved\":0},\"payloadLength\":60,\"maxHopLimit\":1,\"reserved2\":0},\"sequenceNumber\":1,\"reserved1\":0,\"sopv\":{\"address\":{\"configuration\":\"manual\",\"stationType\":5,\"reserved\":0,\"mid\":{\"lsb\":18,\"msb\":3430008}},\"tst\":1399986296,\"latitude\":-1780258339,\"longitude\":2103517765,\"pai\":false,\"speed\":-16383,\"heading\":0},\"geoArea\":{\"lat\":-1780258339,\"long\":2103517765,\"distanceA\":1000,\"distanceB\":0,\"angle\":0},\"reserved2\":0},\"btpb\":{\"destinationPort\":2002,\"destinationPortInfo\":0},\"denm\":{\"header\":{\"protocolVersion\":2,\"messageID\":1,\"stationID\":123456},\"denm\":{\"management\":{\"actionID\":{\"originatingStationID\":123456,\"sequenceNumber\":1},\"detectionTime\":649940045094,\"referenceTime\":649940045094,\"eventPosition\":{\"latitude\":367225309,\"longitude\":-43965883,\"positionConfidenceEllipse\":{\"semiMajorConfidence\":4095,\"semiMinorConfidence\":4095,\"semiMajorOrientation\":3601},\"altitude\":{\"altitudeValue\":0,\"altitudeConfidence\":\"unavailable\"}},\"relevanceDistance\":\"lessThan500m\",\"validityDuration\":60,\"stationType\":10},\"situation\":{\"informationQuality\":0,\"eventType\":{\"causeCode\":95,\"subCauseCode\":0}},\"location\":{\"eventPositionHeading\":{\"headingValue\":0,\"headingConfidence\":127},\"traces\":[[{\"pathPosition\":{\"deltaLatitude\":2117,\"deltaLongitude\":5821,\"deltaAltitude\":0}}]]}}}}","Batch Size":"1","Unique FlowFiles":"false","JSONAttributes":"{\n\t\"message.identifier\": \"f017fce2-1e7e-4b2e-965d-fef355b253ff\",\n\t\"message.type\": \"DenmEtsi\",\n\t\"message.format\": \"json\",\n\t\"message.contentIndex\": 3,\n\t\"provider\": \"Commsignia\",\n\t\"customer.id\": \"public\",\n\t\"reference.longitude\": \"-5324351\",\n\t\"message.timestamp\": \"2022-08-30T11:08:13.129165Z\",\n\t\"reference.latitude\": \"517413856\",\n\t\"action\": \"UPDATE\"\n}","relay.errors":"true","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"attributelist":{"name":"attributelist","displayName":"attributelist","identifiesControllerService":false,"sensitive":false},"metadata":{"name":"metadata","displayName":"metadata","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"JSONAttributes":{"name":"JSONAttributes","displayName":"JSONAttributes","identifiesControllerService":false,"sensitive":false},"relay.errors":{"name":"relay.errors","displayName":"relay.errors","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"10 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"b44ea8d2-af44-3f0f-8eda-7dd4cd65b72a","instanceIdentifier":"877a3cd3-502f-1e72-a6e0-5cfef4ac1860","name":"PutFile","comments":"","position":{"x":2432.0,"y":792.0},"type":"org.apache.nifi.processors.standard.PutFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Group":null,"Owner":null,"Create Missing Directories":"true","Permissions":null,"Maximum File Count":null,"Last Modified Time":null,"Directory":"/var/lib/nifi/scripts/","Conflict Resolution Strategy":"replace"},"propertyDescriptors":{"Group":{"name":"Group","displayName":"Group","identifiesControllerService":false,"sensitive":false},"Owner":{"name":"Owner","displayName":"Owner","identifiesControllerService":false,"sensitive":false},"Create Missing Directories":{"name":"Create Missing Directories","displayName":"Create Missing Directories","identifiesControllerService":false,"sensitive":false},"Permissions":{"name":"Permissions","displayName":"Permissions","identifiesControllerService":false,"sensitive":false},"Maximum File Count":{"name":"Maximum File Count","displayName":"Maximum File Count","identifiesControllerService":false,"sensitive":false},"Last Modified Time":{"name":"Last Modified Time","displayName":"Last Modified Time","identifiesControllerService":false,"sensitive":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false},"Conflict Resolution Strategy":{"name":"Conflict Resolution Strategy","displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"34da338a-c0ee-3a13-b7c0-4626b1869444","instanceIdentifier":"9346e248-0194-1000-ffff-ffffedc8c5d7","name":"ExecuteStreamCommand","comments":"","position":{"x":760.0,"y":1048.0},"type":"org.apache.nifi.processors.standard.ExecuteStreamCommand","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"argumentsStrategy":"Command Arguments Property","Max Attribute Length":"256","Command Path":"/usr/bin/python3","Working Directory":"/var/lib/nifi/scripts/","Output Destination Attribute":"flowfile_content","Argument Delimiter":" ","Ignore STDIN":"false","Command Arguments":"encoder_decoder.py ${message.type} ${message.format}"},"propertyDescriptors":{"argumentsStrategy":{"name":"argumentsStrategy","displayName":"Command Arguments Strategy","identifiesControllerService":false,"sensitive":false},"Max Attribute Length":{"name":"Max Attribute Length","displayName":"Max Attribute Length","identifiesControllerService":false,"sensitive":false},"Command Path":{"name":"Command Path","displayName":"Command Path","identifiesControllerService":false,"sensitive":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false},"Output Destination Attribute":{"name":"Output Destination Attribute","displayName":"Output Destination Attribute","identifiesControllerService":false,"sensitive":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false},"Ignore STDIN":{"name":"Ignore STDIN","displayName":"Ignore STDIN","identifiesControllerService":false,"sensitive":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"}],"inputPorts":[{"identifier":"32d27f2c-2ec4-3be9-86fc-aee8c9aa8383","instanceIdentifier":"e13b3152-4655-1c73-a1c0-ceed661a5e67","name":"input","comments":"","position":{"x":512.0,"y":568.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"DISABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"}],"outputPorts":[{"identifier":"95545f4c-7b4c-3e94-80b8-9af55387ce9f","instanceIdentifier":"4fd93124-1b52-1164-9568-2be5b2f245bb","name":"Sucess","comments":"","position":{"x":3048.0,"y":1032.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"DISABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"33519732-3590-39d4-a01f-b8f4fd5c4fc7","instanceIdentifier":"b23a3aad-f65d-1a8d-af74-c7a86970cda7","name":"Failure","comments":"","position":{"x":3040.0,"y":680.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"DISABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"04cdb35f-f10f-36fa-8b42-d6bf4b7410ea","instanceIdentifier":"f95835ac-f6a8-1cc3-bdcd-4ffb18daad13","name":"for processing (from encoding)","comments":"","position":{"x":816.0,"y":1352.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"DISABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"}],"connections":[{"identifier":"d1db5c04-e7e9-3601-9be0-f20795bf22ca","instanceIdentifier":"f7c431a3-bce8-1fde-a3d8-5c7ab0ce931c","name":"","source":{"id":"b44ea8d2-af44-3f0f-8eda-7dd4cd65b72a","type":"PROCESSOR","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"PutFile","comments":"","instanceIdentifier":"877a3cd3-502f-1e72-a6e0-5cfef4ac1860"},"destination":{"id":"33519732-3590-39d4-a01f-b8f4fd5c4fc7","type":"OUTPUT_PORT","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"Failure","comments":"","instanceIdentifier":"b23a3aad-f65d-1a8d-af74-c7a86970cda7"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"7237d554-c243-39fb-a954-8f3855e420a2","instanceIdentifier":"1c40332f-0e19-111b-a900-a4b65f669793","name":"","source":{"id":"0458d0b2-f13a-300f-990b-6b7225bf0115","type":"PROCESSOR","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"Python Encoder","comments":"","instanceIdentifier":"515b366e-0854-1ede-b5e7-cd34819f2fe9"},"destination":{"id":"b44ea8d2-af44-3f0f-8eda-7dd4cd65b72a","type":"PROCESSOR","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"PutFile","comments":"","instanceIdentifier":"877a3cd3-502f-1e72-a6e0-5cfef4ac1860"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"ef4be5c3-4bdb-337c-92b4-ab3d649988c7","instanceIdentifier":"242e3eff-68f8-1b1a-99b5-2aa27d6e614a","name":"","source":{"id":"b44ea8d2-af44-3f0f-8eda-7dd4cd65b72a","type":"PROCESSOR","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"PutFile","comments":"","instanceIdentifier":"877a3cd3-502f-1e72-a6e0-5cfef4ac1860"},"destination":{"id":"95545f4c-7b4c-3e94-80b8-9af55387ce9f","type":"OUTPUT_PORT","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"Sucess","comments":"","instanceIdentifier":"4fd93124-1b52-1164-9568-2be5b2f245bb"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"3538f697-21bb-3946-888d-03cf2d63d907","instanceIdentifier":"9348281f-0194-1000-ffff-ffff985c5c54","name":"","source":{"id":"38240d2c-9785-3e44-9c46-eed417060332","type":"PROCESSOR","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"Extract Encoder Attributes","comments":"","instanceIdentifier":"867a31d7-e432-13a5-a041-ac14412432a3"},"destination":{"id":"34da338a-c0ee-3a13-b7c0-4626b1869444","type":"PROCESSOR","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"ExecuteStreamCommand","comments":"","instanceIdentifier":"9346e248-0194-1000-ffff-ffffedc8c5d7"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"b196d0a4-a775-3e13-9ce2-5eb3a8b3b6bb","instanceIdentifier":"79c43222-3061-19a7-0000-0000230a2817","name":"","source":{"id":"0ed305ae-83e1-3f6e-a0d9-580193d0c8a6","type":"PROCESSOR","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"GenerateFlowFile For DenmEtsi with Json format","comments":"","instanceIdentifier":"79c431dc-3061-19a7-9c3c-85c9bcc4b44e"},"destination":{"id":"38240d2c-9785-3e44-9c46-eed417060332","type":"PROCESSOR","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"Extract Encoder Attributes","comments":"","instanceIdentifier":"867a31d7-e432-13a5-a041-ac14412432a3"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"00e69547-69f9-3f9e-84c1-df7a6820c83a","instanceIdentifier":"8b2a33e4-888f-14b3-a0e4-09244f252378","name":"","source":{"id":"a5bd8144-30cc-3d42-b4ee-c416286e11d5","type":"PROCESSOR","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"GenerateFlowFile","comments":"","instanceIdentifier":"39eb3931-3cbf-1a81-8408-9e3e3322fedd"},"destination":{"id":"38240d2c-9785-3e44-9c46-eed417060332","type":"PROCESSOR","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"Extract Encoder Attributes","comments":"","instanceIdentifier":"867a31d7-e432-13a5-a041-ac14412432a3"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":53.923363,"y":832.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"924bebb6-b1c8-3bab-8430-7ec800b25bdf","instanceIdentifier":"53183336-1bb6-1f38-9fdc-04015711ea6f","name":"","source":{"id":"1bfbaadd-2178-371c-8030-b8589c4d6d51","type":"PROCESSOR","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"Consume from Encoder Topic","comments":"","instanceIdentifier":"62d63234-d384-1791-965f-022320aefac4"},"destination":{"id":"38240d2c-9785-3e44-9c46-eed417060332","type":"PROCESSOR","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"Extract Encoder Attributes","comments":"","instanceIdentifier":"867a31d7-e432-13a5-a041-ac14412432a3"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"514b6a88-6820-30be-8c3d-ea65ee3d61bd","instanceIdentifier":"98ef8d7b-0194-1000-0000-0000272520ad","name":"","source":{"id":"34da338a-c0ee-3a13-b7c0-4626b1869444","type":"PROCESSOR","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"ExecuteStreamCommand","comments":"","instanceIdentifier":"9346e248-0194-1000-ffff-ffffedc8c5d7"},"destination":{"id":"04cdb35f-f10f-36fa-8b42-d6bf4b7410ea","type":"OUTPUT_PORT","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"for processing (from encoding)","comments":"","instanceIdentifier":"f95835ac-f6a8-1cc3-bdcd-4ffb18daad13"},"labelIndex":1,"zIndex":0,"selectedRelationships":["original"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"553485f7-6612-3277-ab65-35d00585522a","instanceIdentifier":"fb3b3bd5-fb55-15f0-85ce-fd822ede6f39","name":"","source":{"id":"32d27f2c-2ec4-3be9-86fc-aee8c9aa8383","type":"INPUT_PORT","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"input","comments":"","instanceIdentifier":"e13b3152-4655-1c73-a1c0-ceed661a5e67"},"destination":{"id":"38240d2c-9785-3e44-9c46-eed417060332","type":"PROCESSOR","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"Extract Encoder Attributes","comments":"","instanceIdentifier":"867a31d7-e432-13a5-a041-ac14412432a3"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":632.0,"y":688.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"}],"labels":[{"identifier":"2b8c4c3d-9c2c-3757-921e-66dc72a22098","instanceIdentifier":"573f3326-a16a-1a7a-8e8b-f247a8b6b5ec","position":{"x":512.0,"y":336.0},"label":"Encoder Engine:\n-------------------------------\n- encode binary to Hex String\n- encode from JER (Json) to UPER (Hex String)\n- encode from XER (Xml) to UPER (Hex String)\n \nMaybe decode + encode to validate structure, for already encoded messages","zIndex":0,"width":656.0,"height":176.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"907c3b4f-7d63-3d3f-b194-36e2c7c7f729","instanceIdentifier":"ba703e05-96bf-1022-958d-08ac807c3cf8","position":{"x":512.0,"y":520.0},"label":"                                       MAIN FLOW","zIndex":0,"width":600.0,"height":40.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"74d4c26f-769d-3824-98bd-40d1e101c579","instanceIdentifier":"6b173bd1-bd05-1c3a-bb42-f16bc612f32b","position":{"x":-128.0,"y":960.0},"label":"TESTING DenmEtsi Message","zIndex":0,"width":352.0,"height":40.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"7484462b-e4a0-38ff-8318-79f6c51ce543","instanceIdentifier":"76d23e8e-64d8-1554-b094-d95c4272c448","position":{"x":1128.0,"y":1048.0},"label":"script need enhancement to support xml","zIndex":0,"width":352.0,"height":40.0,"style":{"font-size":"14px"},"componentType":"LABEL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"4063e8c7-312f-31eb-9e36-60d707b245a9","instanceIdentifier":"5fac391a-e611-1e2a-981b-ab7c29e6736d","position":{"x":1120.0,"y":520.0},"label":"PUBLISH KAFKA\n------------------------------\nkafka key => should be provider + message.identifier (+ action)???\n\nTHIS SHOULD BE APPLIED TO ALL PUBLISH KAFKA INSIDE THE INTEGRATOR","zIndex":0,"width":744.0,"height":152.0,"style":{"font-size":"20px"},"componentType":"LABEL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"4b44863e-f4a7-39a3-ab4f-6592ce241e7b","instanceIdentifier":"29b335c0-9b04-1f88-8e5a-bba28599a578","position":{"x":2432.0,"y":440.0},"label":"To Upload Python Encoder","zIndex":0,"width":352.0,"height":64.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"d0352d39-4671-3f86-8115-cd3e4436ada8","instanceIdentifier":"23633b6c-9c10-10ef-893e-51bf57e78598","position":{"x":-120.0,"y":520.0},"label":"TESTING","zIndex":0,"width":352.0,"height":40.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"},{"identifier":"bf93b228-8952-381b-9232-51736271e67f","instanceIdentifier":"df68356a-29cf-1985-a7e8-0d7ce8c4dc28","position":{"x":632.0,"y":768.0},"label":"Concurrent\nTasks: 2","zIndex":0,"width":120.0,"height":128.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"563f6450-b155-303a-aca4-061a991a0089"}],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"v2x.integration.framework.context","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"edfa7040-902a-33a6-b170-c0d22e698d63"},{"identifier":"911e672d-df67-3f8b-8891-05951ab150df","instanceIdentifier":"6f783431-6d65-1291-0000-00003d2eb584","name":"Interface Layer","comments":"","position":{"x":2416.0,"y":56.0},"processGroups":[{"identifier":"e41b9db3-08a6-3a35-ab81-b658c355e609","instanceIdentifier":"71413bab-804c-14f6-9a12-b2a0457a8645","name":"Inbound (AMQP) Interface","comments":"","position":{"x":2392.0,"y":-80.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"39988728-11d3-33ab-99ce-1ab7a4b91d9b","instanceIdentifier":"ce8c35a1-4767-1618-b68e-d89edd1c5348","name":"XSLT for Denm","comments":"","position":{"x":3280.0,"y":80.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"filename":"transform_denm.xslt","generate-ff-custom-text":"<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\n<xsl:output method=\"xml\" indent=\"yes\" omit-xml-declaration=\"yes\" />\n<xsl:template match=\"/ | node()\">\n      <DenmEtsi>\n\t\t  <gbcGacHeader>\n\t\t\t<basicHeader>\n\t\t\t  <version>1</version>\n\t\t\t  <nextHeader>1</nextHeader>\n\t\t\t  <reserved>0</reserved>\n\t\t\t  <lifeTime>\n\t\t\t\t<multiplier>19</multiplier>\n\t\t\t\t<base>0</base>\n\t\t\t  </lifeTime>\n\t\t\t  <remaingHop>1</remaingHop>\n\t\t\t</basicHeader>\n\t\t\t<commonHeader>\n\t\t\t  <nextHeader>2</nextHeader>\n\t\t\t  <reserved1>0</reserved1>\n\t\t\t  <headerType>4</headerType>\n\t\t\t  <headerSubType>0</headerSubType>\n\t\t\t  <traficClass>\n\t\t\t\t<scf>\n\t\t\t\t  <false/>\n\t\t\t\t</scf>\n\t\t\t\t<channelOffload>\n\t\t\t\t  <false/>\n\t\t\t\t</channelOffload>\n\t\t\t\t<tcID>0</tcID>\n\t\t\t  </traficClass>\n\t\t\t  <flags>\n\t\t\t\t<mobile>\n\t\t\t\t  <true/>\n\t\t\t\t</mobile>\n\t\t\t\t<reserved>0</reserved>\n\t\t\t  </flags>\n\t\t\t  <payloadLength>0</payloadLength>\n\t\t\t  <maxHopLimit>1</maxHopLimit>\n\t\t\t  <reserved2>0</reserved2>\n\t\t\t</commonHeader>\n\t\t\t<sequenceNumber>1</sequenceNumber>\n\t\t\t<reserved1>0</reserved1>\n\t\t\t<sopv>\n\t\t\t  <address>\n\t\t\t\t<configuration>\n\t\t\t\t  <manual/>\n\t\t\t\t</configuration>\n\t\t\t\t<stationType>0</stationType>\n\t\t\t\t<reserved>0</reserved>\n\t\t\t\t<mid>\n\t\t\t\t  <lsb>0</lsb>\n\t\t\t\t  <msb>0</msb>\n\t\t\t\t</mid>\n\t\t\t  </address>\n\t\t\t  <tst>##Timestamp##</tst>\n\t\t\t  <latitude>##Latitude##</latitude>\n\t\t\t  <longitude>##Longitude##</longitude>\n\t\t\t  <pai>\n\t\t\t\t<false/>\n\t\t\t  </pai>\n\t\t\t  <speed>-16383</speed>\n\t\t\t  <heading>0</heading>\n\t\t\t</sopv>\n\t\t\t<geoArea>\n\t\t\t  <lat>##Latitude##</lat>\n\t\t\t  <long>##Longitude##</long>\n\t\t\t  <distanceA>0</distanceA>\n\t\t\t  <distanceB>0</distanceB>\n\t\t\t  <angle>0</angle>\n\t\t\t</geoArea>\n\t\t\t<reserved2>0</reserved2>\n\t\t  </gbcGacHeader>\n\t\t  <btpb>\n\t\t\t<destinationPort>2002</destinationPort>\n\t\t\t<destinationPortInfo>0</destinationPortInfo>\n\t\t  </btpb>\n\t\t<xsl:apply-templates/>\n\t</DenmEtsi>\n</xsl:template>\n\n<xsl:template match=\"DENM\">\n    <denm>\n        <xsl:apply-templates/>\n    </denm>\n</xsl:template>\n\n<xsl:template match=\"DENM/header\">\n    <xsl:copy-of select=\".\" />\n</xsl:template>\n\n<xsl:template match=\"DENM/denm/*|node()\">\n    <xsl:copy>\n        <xsl:apply-templates/>\n    </xsl:copy>\n</xsl:template>\n\n<xsl:template match=\"altitudeConfidence\">\n<xsl:copy>\n<xsl:choose>\n  <xsl:when test=\"text() = 0\"><alt-000-01/></xsl:when>\n  <xsl:when test=\"text() = 1\"><alt-000-02/></xsl:when>\n  <xsl:when test=\"text() = 2\"><alt-000-05/></xsl:when>\n  <xsl:when test=\"text() = 3\"><alt-000-10/></xsl:when>\n  <xsl:when test=\"text() = 4\"><alt-000-20/></xsl:when>\n  <xsl:when test=\"text() = 5\"><alt-000-50/></xsl:when>\n  <xsl:when test=\"text() = 6\"><alt-001-00/></xsl:when>\n  <xsl:when test=\"text() = 7\"><alt-002-00/></xsl:when>\n  <xsl:when test=\"text() = 8\"><alt-005-00/></xsl:when>\n  <xsl:when test=\"text() = 9\"><alt-010-00/></xsl:when>\n  <xsl:when test=\"text() = 10\"><alt-020-00/></xsl:when>\n  <xsl:when test=\"text() = 11\"><alt-050-00/></xsl:when>\n  <xsl:when test=\"text() = 12\"><alt-100-00/></xsl:when>\n  <xsl:when test=\"text() = 13\"><alt-200-00/></xsl:when>\n  <xsl:when test=\"text() = 14\"><outOfRange/></xsl:when>\n  <xsl:when test=\"text() = 15\"><unavailable/></xsl:when>\n  <xsl:otherwise><unavailable/></xsl:otherwise>\n</xsl:choose>\n</xsl:copy>\n</xsl:template>\n   \n<xsl:template match=\"relevanceTrafficDirection \">\n<xsl:copy>\n<xsl:choose>\n  <xsl:when test=\"text() = 0\"><allTrafficDirections/></xsl:when>\n  <xsl:when test=\"text() = 1\"><upstreamTraffic/></xsl:when>\n  <xsl:when test=\"text() = 2\"><downstreamTraffic/></xsl:when>\n  <xsl:when test=\"text() = 3\"><oppositeTraffic/></xsl:when>\n  <xsl:otherwise><allTrafficDirections/></xsl:otherwise>\n</xsl:choose>\n</xsl:copy>\n</xsl:template>\n\n<xsl:template match=\"relevanceDistance\">\n<xsl:copy>\n<xsl:choose>\n  <xsl:when test=\"text() = 0\"><lessThan50m/></xsl:when>\n  <xsl:when test=\"text() = 1\"><lessThan100m/></xsl:when>\n  <xsl:when test=\"text() = 2\"><lessThan200m/></xsl:when>\n  <xsl:when test=\"text() = 3\"><lessThan500m/></xsl:when>\n  <xsl:when test=\"text() = 4\"><lessThan1000m/></xsl:when>\n  <xsl:when test=\"text() = 5\"><lessThan5km/></xsl:when>\n  <xsl:when test=\"text() = 6\"><lessThan10km/></xsl:when>\n  <xsl:when test=\"text() = 7\"><over10km/></xsl:when>\n  <xsl:otherwise><over10km/></xsl:otherwise>\n</xsl:choose>\n</xsl:copy>\n</xsl:template>\n\n<xsl:template match=\"termination\">\n<xsl:copy>\n<xsl:choose>\n  <xsl:when test=\"text() = 0\"><isCancellation/></xsl:when>\n  <xsl:when test=\"text() = 1\"><isNegation/></xsl:when>\n  <xsl:when test=\"self::termination[isNegation]\"><isNegation/></xsl:when>\n</xsl:choose>\n</xsl:copy>\n</xsl:template>\n\n \n</xsl:stylesheet>","Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"},{"identifier":"f42ac8cc-16ce-30e7-afd6-0548d52fe113","instanceIdentifier":"f11437d2-5bf1-115e-8cf6-b0d8e16925a0","name":"GenerateFlowFile DENM","comments":"","position":{"x":2456.0,"y":80.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"amqp$routingKey":"DENM.private.1_3_1.3","generate-ff-custom-text":"{\n\t\"messageId\": \"68c36d7b-b2e9-4110-a8f6-8ccc20834af0\",\n\t\"customerId\": \"public\",\n\t\"referencePositionLat\": 309965575,\n\t\"referencePositionLon\": 286933636,\n\t\"disseminationAreaType\": 0,\n\t\"disseminationAreaLat\": 309965575,\n\t\"disseminationAreaLon\": 286933636,\n\t\"disseminationAreaDistA\": 1500,\n\t\"disseminationAreaDistB\": 0,\n\t\"disseminationAreaAngle\": 0,\n\t\"referenceTime\": \"2023-12-06T15:23:01.000576Z\",\n\t\"actionIdStationId\": 166163,\n\t\"actionIdSequenceNumber\": 1,\n\t\"validityDuration\": 600,\n\t\"denm\": \"<DENM><header><protocolVersion>2</protocolVersion><messageID>1</messageID><stationID>166163</stationID></header><denm><management><actionID><originatingStationID>166163</originatingStationID><sequenceNumber>1</sequenceNumber></actionID><detectionTime>628911900</detectionTime><referenceTime>628911900</referenceTime><eventPosition><latitude>309965575</latitude><longitude>286933636</longitude><positionConfidenceEllipse><semiMajorConfidence>4095</semiMajorConfidence><semiMinorConfidence>4095</semiMinorConfidence><semiMajorOrientation>3601</semiMajorOrientation></positionConfidenceEllipse><altitude><altitudeValue>0</altitudeValue><altitudeConfidence><unavailable/></altitudeConfidence></altitude></eventPosition><relevanceDistance><lessThan200m/></relevanceDistance><validityDuration>60</validityDuration><stationType>5</stationType></management><situation><informationQuality>0</informationQuality><eventType><causeCode>3</causeCode><subCauseCode>1</subCauseCode></eventType><eventHistory><EventPoint><eventPosition><deltaLatitude>-839</deltaLatitude><deltaLongitude>8431</deltaLongitude><deltaAltitude>0</deltaAltitude></eventPosition><informationQuality>0</informationQuality></EventPoint></eventHistory></situation><location><eventPositionHeading><headingValue>0</headingValue><headingConfidence>127</headingConfidence></eventPositionHeading><traces><PathHistory><PathPoint><pathPosition><deltaLatitude>-429</deltaLatitude><deltaLongitude>-27</deltaLongitude><deltaAltitude>0</deltaAltitude></pathPosition></PathPoint><PathPoint><pathPosition><deltaLatitude>-7872</deltaLatitude><deltaLongitude>79</deltaLongitude><deltaAltitude>0</deltaAltitude></pathPosition></PathPoint></PathHistory></traces></location></denm></DENM>\"\n}","Batch Size":"1","Unique FlowFiles":"false","amqp$contentType":"text/plain","amqp$deliveryMode":"2","amqp$exchange":"DENM","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"amqp$routingKey":{"name":"amqp$routingKey","displayName":"amqp$routingKey","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"amqp$contentType":{"name":"amqp$contentType","displayName":"amqp$contentType","identifiesControllerService":false,"sensitive":false},"amqp$deliveryMode":{"name":"amqp$deliveryMode","displayName":"amqp$deliveryMode","identifiesControllerService":false,"sensitive":false},"amqp$exchange":{"name":"amqp$exchange","displayName":"amqp$exchange","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"1 min","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"},{"identifier":"62fd1074-9ee4-3ebf-83e0-42753f094f37","instanceIdentifier":"5556318d-5522-1905-8775-bb0b796e00e2","name":"PutFile","comments":"","position":{"x":3280.0,"y":360.0},"type":"org.apache.nifi.processors.standard.PutFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Group":null,"Owner":null,"Create Missing Directories":"true","Permissions":null,"Maximum File Count":null,"Last Modified Time":null,"Directory":"/var/lib/nifi/xslt/","Conflict Resolution Strategy":"replace"},"propertyDescriptors":{"Group":{"name":"Group","displayName":"Group","identifiesControllerService":false,"sensitive":false},"Owner":{"name":"Owner","displayName":"Owner","identifiesControllerService":false,"sensitive":false},"Create Missing Directories":{"name":"Create Missing Directories","displayName":"Create Missing Directories","identifiesControllerService":false,"sensitive":false},"Permissions":{"name":"Permissions","displayName":"Permissions","identifiesControllerService":false,"sensitive":false},"Maximum File Count":{"name":"Maximum File Count","displayName":"Maximum File Count","identifiesControllerService":false,"sensitive":false},"Last Modified Time":{"name":"Last Modified Time","displayName":"Last Modified Time","identifiesControllerService":false,"sensitive":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false},"Conflict Resolution Strategy":{"name":"Conflict Resolution Strategy","displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"},{"identifier":"afa9586c-ff59-359b-8b29-45a6a5cfc954","instanceIdentifier":"31753a40-9bd5-180b-9806-3f25a4ad2676","name":"Log Error Message","comments":"","position":{"x":1376.0,"y":392.0},"type":"org.apache.nifi.processors.standard.LogMessage","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"log-message":"Error while processing message","log-level":"error","log-prefix":"#{logging.prefix.provider.commsignia}"},"propertyDescriptors":{"log-message":{"name":"log-message","displayName":"Log message","identifiesControllerService":false,"sensitive":false},"log-level":{"name":"log-level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false},"log-prefix":{"name":"log-prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"},{"identifier":"f9e7e18d-ecdf-3538-b573-08cf9d35d0df","instanceIdentifier":"7ba03a20-04ad-1c99-815b-7aa50f03a559","name":"AMQP (Vodafone) DENM","comments":"","position":{"x":2008.0,"y":80.0},"type":"com.vodafone.v2x.nifi.processors.processors.amqpconsumer.ConsumeAMQP","bundle":{"group":"com.vodafone.v2x.nifi.processors","artifact":"nifi-amqpconsumer-nar","version":"1.1"},"properties":{"ssl-context-service":null,"User Name":"#{vodafone.rabbitmq.server.username}","ssl-client-auth":"NONE","Exchange Name":"","batch.size":"10","Port":"#{vodafone.rabbitmq.server.port.ssl}","Brokers":null,"cert-authentication":"false","auto.acknowledge":"false","Host Name":"#{vodafone.rabbitmq.server.host.fqdn}","AMQP Version":"0.9.1","Binding Key":"#{amqp.routingkey.generator.denm}","Virtual Host":null,"Queue":"","Password":"#{vodafone.rabbitmq.server.password}"},"propertyDescriptors":{"ssl-context-service":{"name":"ssl-context-service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"User Name":{"name":"User Name","displayName":"User Name","identifiesControllerService":false,"sensitive":false},"ssl-client-auth":{"name":"ssl-client-auth","displayName":"Client Auth","identifiesControllerService":false,"sensitive":false},"Exchange Name":{"name":"Exchange Name","displayName":"Exchange Name","identifiesControllerService":false,"sensitive":false},"batch.size":{"name":"batch.size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Port":{"name":"Port","displayName":"Port","identifiesControllerService":false,"sensitive":false},"Brokers":{"name":"Brokers","displayName":"Brokers","identifiesControllerService":false,"sensitive":false},"cert-authentication":{"name":"cert-authentication","displayName":"Use Client Certificate Authentication","identifiesControllerService":false,"sensitive":false},"auto.acknowledge":{"name":"auto.acknowledge","displayName":"Auto-Acknowledge Messages","identifiesControllerService":false,"sensitive":false},"Host Name":{"name":"Host Name","displayName":"Host Name","identifiesControllerService":false,"sensitive":false},"AMQP Version":{"name":"AMQP Version","displayName":"AMQP Version","identifiesControllerService":false,"sensitive":false},"Binding Key":{"name":"Binding Key","displayName":"Binding Key","identifiesControllerService":false,"sensitive":false},"Virtual Host":{"name":"Virtual Host","displayName":"Virtual Host","identifiesControllerService":false,"sensitive":false},"Queue":{"name":"Queue","displayName":"Queue","identifiesControllerService":false,"sensitive":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"},{"identifier":"fbd5dcd2-1489-35e7-a2fd-4ffbc8521bbd","instanceIdentifier":"1f233e2a-87a1-1a42-a1f7-9f4311e571c6","name":"Mapping for SDK Generator Interface","comments":"","position":{"x":2008.0,"y":392.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import org.apache.commons.io.IOUtils\nimport java.nio.charset.*\nimport groovy.json.JsonSlurper;\nimport java.time.LocalDate;\nimport java.time.ZoneId;\nimport java.util.Calendar;\nimport java.util.Date;\nimport groovy.json.JsonOutput \n\ndef flowFile = session.get();\nif(!flowFile) return\n\nif (flowFile!= null){\n\n  def jsonSlurper = new JsonSlurper();\n  def object;\n  def amqp_rotingkey = flowFile.getAttribute('amqp$routingKey');\n  def format = \"yyyy-MM-dd'T'HH:mm:ss.SSSSSS'Z'\";\n  def format_timezone = \"yyyy-MM-dd'T'HH:mm:ss.SSSSSSXXX\";\n  def duration_multiplier = 1000;\n  def amqp_exchange = flowFile.getAttribute('amqp$exchange').toLowerCase();\n  def msg_identifier='';\n  def msg_seq='';\n  def ref_time_fix;\n  def ref_time;\n  def validation_to;\n  def validation_duration=''; \n  def msg_timeStamp; \n  def content='';\n  def reference_latitude, reference_longitude,customer_id,actionObject='';\n  def msg_iden_seq;\n  def amq_msg = amqp_rotingkey.tokenize(\".\")[3]\n\n  flowFile = session.write(flowFile, {inputStream, outputStream ->\n      //def text = IOUtils.toString(inputStream, StandardCharsets.UTF_8).replaceAll('\\\\\\\\', '');\n      def text = IOUtils.toString(inputStream, StandardCharsets.UTF_8).replaceAll('\\\\\\\\', '').replaceAll('\\n','').replace('<?xml version=\\\"1.0\\\"?>','');\n      object = jsonSlurper.parseText(text);\n      if (object.denm != null || object.ivim != null ){\n        if (object.denm != null){\n          content = object.denm;\n          msg_identifier = object.actionIdStationId.toString();\n          msg_seq = object.actionIdSequenceNumber.toString();\n          msg_timeStamp = object.referenceTime;\n          reference_latitude = object.referencePositionLat.toString();\n          reference_longitude = object.referencePositionLon.toString();\n          customer_id = object.customerId;\n        }else if (object.ivim != null){\n            content = object.ivim;\n            actionObject = object.ivimType\n            msg_identifier = object.ivimId.toString();\n            msg_timeStamp = object.timestamp;\n            reference_latitude = object.referencePositionLat.toString();\n            reference_longitude = object.referencePositionLon.toString();\n            customer_id = object.customerId;\n        }\n        if (object.referenceTimez!=null){\n          ref_time_fix= object.referenceTimez;\n        }else{\n            ref_time_fix ='';\n        }\n        if (object.validTo!=null){\n          validation_to = object.validTo;\n        }\n        if (object.validityDuration!=null){\n          validation_duration = object.validityDuration.toString();\n        }\n        if(object.referenceTime!=null){\n          ref_time = object.referenceTime;\n        }else {\n          ref_time ='';\n        }\n      }\n      outputStream.write(content.getBytes(StandardCharsets.UTF_8));\n\n  } as StreamCallback)\nif (object.denm != null || object.ivim != null ){\n  // putting attributes:   \n  session.putAttribute(flowFile, \"relay.errors\",\"true\");\n  session.putAttribute(flowFile, \"provider\",\"GENERATOR\");\n  session.putAttribute(flowFile, \"message.contentIndex\",amq_msg);\n\n  session.putAttribute(flowFile, \"message.identifier\",msg_identifier);\n  session.putAttribute(flowFile, \"message.identifier.sequence\",msg_seq);\n  session.putAttribute(flowFile, \"message.timestamp\",msg_timeStamp);\n  session.putAttribute(flowFile, \"reference.latitude\",reference_latitude);\n  session.putAttribute(flowFile, \"reference.longitude\",reference_longitude);\n  session.putAttribute(flowFile, \"customer.id\",customer_id);\n  session.putAttribute(flowFile, \"action\",actionObject);\n  session.putAttribute(flowFile, \"reference.time.fix\",ref_time_fix);\n  session.putAttribute(flowFile, \"reference.time\",ref_time);\n  session.putAttribute(flowFile, \"validation.duration\",validation_duration);\n  session.putAttribute(flowFile, \"validation.to\",validation_to.toString());\n\n  // second processor\n  if (msg_seq!=null && !msg_seq.empty){\n    msg_iden_seq =  msg_identifier + \"-\" + msg_seq;\n    session.putAttribute(flowFile, \"message.identifier\",msg_iden_seq);\n  }\n  \n  if (validation_to!=null ){\n    if (validation_to.length() > 24) {\n      validation_to = Date.parse(format, validation_to.substring(0,23) + 'Z').getTime();\n    } else {\n      validation_to = Date.parse(format, validation_to).getTime();\n\t}\n    session.putAttribute(flowFile, \"validation.to\",validation_to.toString());\n  }\n\n  // 3th processor\n  def date = new Date();\n  def msg_startTime = date.getTime();\n  session.putAttribute(flowFile, \"message.startTime\",msg_startTime.toString());\n\n  def msg_timeStampTime;\n  if (msg_timeStamp!=null && ! msg_timeStamp.empty){\n  \tif (msg_timeStamp.length() > 29) {\n      def msg_timeStampParse = Date.parse(format_timezone, msg_timeStamp);\n      msg_timeStampTime = msg_timeStampParse.getTime();\n    } else {\n      def msg_timeStampParse= Date.parse(format, msg_timeStamp);\n      msg_timeStampTime = msg_timeStampParse.getTime();\n    }\n    session.putAttribute(flowFile, \"message.timestamp\",msg_timeStampTime.toString());\n  }\n  //4th processor \n  if (validation_to==null  && validation_duration!=null ){\n    validation_to = msg_timeStampTime + ((validation_duration.toInteger()) * duration_multiplier);\n    session.putAttribute(flowFile, \"validation.to\",validation_to.toString());\n  }\n    //message.type\n  session.putAttribute(flowFile, \"message.type\",amqp_exchange);\n  //message.format\n  def msg_formart='';\n  if (amq_msg.equalsIgnoreCase('0') ){\n    msg_formart='binary';\n  }else if (amq_msg.equalsIgnoreCase('1')){\n      msg_formart='base64';\n  }else if(amq_msg.equalsIgnoreCase('2')){\n    msg_formart='json';\n  }else if (amq_msg.equalsIgnoreCase('3') || amq_msg.equalsIgnoreCase('4') || amq_msg.equalsIgnoreCase('5')){\n    msg_formart='xml';\n  }\n  session.putAttribute(flowFile, \"message.format\",msg_formart);\n  //message.key\n  def msg_identifier_transform='';\n  if (msg_iden_seq!=null){\n    msg_identifier_transform =  msg_iden_seq;\n  }else{\n    msg_identifier_transform = msg_identifier;\n  }\n  def message_key = \"GENERATOR\" + \"_\"+amqp_exchange +\"_\"+ msg_identifier_transform;\n  session.putAttribute(flowFile, \"message.key\",message_key);\n\n  // 5TH process\n  if (amqp_exchange.equalsIgnoreCase('denm')){\n    // 6th process\n    if (content.toString().contains(\"termination\")){\n      actionObject = \"CANCEL\";\n      session.putAttribute(flowFile, \"action\",\"CANCEL\");\n    }else{\n      actionObject = \"UPDATE\";\n      session.putAttribute(flowFile, \"action\",\"UPDATE\");\n    }\n  }\n\n  // create JSONAttributes\n  def json = JsonOutput.toJson([\"message.identifier\":msg_identifier_transform,\"message.type\":amqp_exchange,\"message.format\":msg_formart,\"message.timestamp\":msg_timeStampTime.toString(),\"message.contentIndex\":amq_msg,\"customer.id\":object.customerId,\"provider\":\"GENERATOR\",\"reference.longitude\":reference_longitude,\"reference.latitude\":reference_latitude,\"action\":actionObject,\"validation.to\":validation_to,\"message.startTime\":msg_startTime.toString(),\"message.key\":message_key,\"reference.time\":ref_time]);\n  session.putAttribute(flowFile, \"metadata\",json);\n  \n  session.transfer(flowFile, REL_SUCCESS);\n  }else{\n    session.transfer(flowFile, REL_FAILURE);\n  }\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"}],"inputPorts":[],"outputPorts":[{"identifier":"dc08e701-bade-3375-9c56-cfe21e21f492","instanceIdentifier":"f39b3c20-6588-1744-8b24-7e3696815a71","name":"Sucess","comments":"","position":{"x":3896.0,"y":600.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"DISABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"},{"identifier":"8c098c3b-27ff-3f6f-bdfd-8fb7b53fd00a","instanceIdentifier":"c3c6384b-0f61-1bfd-978d-3c54d8402697","name":"inbound msg (AMQP)","comments":"","position":{"x":2064.0,"y":688.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"DISABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"},{"identifier":"a6826c89-6df9-3a8b-93aa-b42d72939ab9","instanceIdentifier":"1fd03d0c-bd44-1044-af49-8d8e815331ed","name":"Failure","comments":"","position":{"x":3888.0,"y":248.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"DISABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"}],"connections":[{"identifier":"3d860f99-8e06-3d4a-bc56-cfaabb109b49","instanceIdentifier":"ed3f3aa9-ac47-1d30-aff7-08de4875f036","name":"","source":{"id":"39988728-11d3-33ab-99ce-1ab7a4b91d9b","type":"PROCESSOR","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","name":"XSLT for Denm","comments":"","instanceIdentifier":"ce8c35a1-4767-1618-b68e-d89edd1c5348"},"destination":{"id":"62fd1074-9ee4-3ebf-83e0-42753f094f37","type":"PROCESSOR","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","name":"PutFile","comments":"","instanceIdentifier":"5556318d-5522-1905-8775-bb0b796e00e2"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"},{"identifier":"8e3022e2-92b4-3a91-81ea-bf46a55bd6c5","instanceIdentifier":"c91a3bbb-be93-1233-8acf-2c32b2dc181a","name":"","source":{"id":"62fd1074-9ee4-3ebf-83e0-42753f094f37","type":"PROCESSOR","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","name":"PutFile","comments":"","instanceIdentifier":"5556318d-5522-1905-8775-bb0b796e00e2"},"destination":{"id":"dc08e701-bade-3375-9c56-cfe21e21f492","type":"OUTPUT_PORT","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","name":"Sucess","comments":"","instanceIdentifier":"f39b3c20-6588-1744-8b24-7e3696815a71"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"},{"identifier":"efcda100-4d18-3b0e-8b41-62d9fc1f0048","instanceIdentifier":"eefc35fc-dab5-19fc-900f-2521c34cdae7","name":"","source":{"id":"62fd1074-9ee4-3ebf-83e0-42753f094f37","type":"PROCESSOR","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","name":"PutFile","comments":"","instanceIdentifier":"5556318d-5522-1905-8775-bb0b796e00e2"},"destination":{"id":"a6826c89-6df9-3a8b-93aa-b42d72939ab9","type":"OUTPUT_PORT","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","name":"Failure","comments":"","instanceIdentifier":"1fd03d0c-bd44-1044-af49-8d8e815331ed"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"},{"identifier":"01749047-c383-30bc-b939-c8b63ce440b1","instanceIdentifier":"f11437d6-5bf1-115e-ffff-ffffc376c01e","name":"","source":{"id":"f42ac8cc-16ce-30e7-afd6-0548d52fe113","type":"PROCESSOR","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","name":"GenerateFlowFile DENM","comments":"","instanceIdentifier":"f11437d2-5bf1-115e-8cf6-b0d8e16925a0"},"destination":{"id":"fbd5dcd2-1489-35e7-a2fd-4ffbc8521bbd","type":"PROCESSOR","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","name":"Mapping for SDK Generator Interface","comments":"","instanceIdentifier":"1f233e2a-87a1-1a42-a1f7-9f4311e571c6"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2632.0,"y":456.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"},{"identifier":"1ffb6550-c9e2-3af8-b99d-39348bd04028","instanceIdentifier":"44583809-36dd-19a3-a7bc-843ec8cf32d3","name":"","source":{"id":"fbd5dcd2-1489-35e7-a2fd-4ffbc8521bbd","type":"PROCESSOR","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","name":"Mapping for SDK Generator Interface","comments":"","instanceIdentifier":"1f233e2a-87a1-1a42-a1f7-9f4311e571c6"},"destination":{"id":"afa9586c-ff59-359b-8b29-45a6a5cfc954","type":"PROCESSOR","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","name":"Log Error Message","comments":"","instanceIdentifier":"31753a40-9bd5-180b-9806-3f25a4ad2676"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"},{"identifier":"3baa6850-db5f-391f-b9f2-8a617ecb080c","instanceIdentifier":"0ee230d7-a1d9-1f36-9705-0b575f826da2","name":"","source":{"id":"f9e7e18d-ecdf-3538-b573-08cf9d35d0df","type":"PROCESSOR","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","name":"AMQP (Vodafone) DENM","comments":"","instanceIdentifier":"7ba03a20-04ad-1c99-815b-7aa50f03a559"},"destination":{"id":"fbd5dcd2-1489-35e7-a2fd-4ffbc8521bbd","type":"PROCESSOR","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","name":"Mapping for SDK Generator Interface","comments":"","instanceIdentifier":"1f233e2a-87a1-1a42-a1f7-9f4311e571c6"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2184.0,"y":272.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"},{"identifier":"fd883b56-84b9-37d8-9774-bf9be0a9a494","instanceIdentifier":"38ee3557-d47a-15bd-8a96-0c8351fa5fdb","name":"","source":{"id":"fbd5dcd2-1489-35e7-a2fd-4ffbc8521bbd","type":"PROCESSOR","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","name":"Mapping for SDK Generator Interface","comments":"","instanceIdentifier":"1f233e2a-87a1-1a42-a1f7-9f4311e571c6"},"destination":{"id":"8c098c3b-27ff-3f6f-bdfd-8fb7b53fd00a","type":"OUTPUT_PORT","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","name":"inbound msg (AMQP)","comments":"","instanceIdentifier":"c3c6384b-0f61-1bfd-978d-3c54d8402697"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2184.0,"y":600.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"}],"labels":[{"identifier":"9b7ddf90-7fd5-33fe-b8a1-ef7adc1b195e","instanceIdentifier":"ee6f3c7c-995f-10b7-914d-19597829adff","position":{"x":1352.0,"y":352.0},"label":"                    Error Logging","zIndex":0,"width":392.0,"height":192.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"},{"identifier":"2adbd407-1358-3d1e-86f1-2b9f189cac5f","instanceIdentifier":"9d3b3d27-b179-18b9-b2da-15c40f39e548","position":{"x":2456.0,"y":-32.0},"label":"           \n                   TESTING FLOW","zIndex":0,"width":352.0,"height":96.0,"style":{"font-size":"22px"},"componentType":"LABEL","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"},{"identifier":"521ef6af-badf-3ed9-afca-db555a831d7f","instanceIdentifier":"b39d3885-4c8c-1d03-b241-4683b99b6aca","position":{"x":2008.0,"y":-32.0},"label":"DENM\nDENM.private.1_3_1.3","zIndex":0,"width":352.0,"height":96.0,"style":{"font-size":"22px"},"componentType":"LABEL","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"},{"identifier":"fc0c8d7f-07c6-3d75-8ba2-dace96af4b77","instanceIdentifier":"abe33d38-0509-1d14-aa67-aaca17966cc1","position":{"x":3280.0,"y":8.0},"label":"To Upload XSLT Files (DENM)","zIndex":0,"width":352.0,"height":64.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"e41b9db3-08a6-3a35-ab81-b658c355e609"}],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"v2x.integration.framework.context","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"911e672d-df67-3f8b-8891-05951ab150df"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[],"outputPorts":[{"identifier":"a917b23d-f90b-309d-940a-1d8efdc607ea","instanceIdentifier":"6f78342e-6d65-1291-87d7-2c30d98c1c8b","name":"inbound msg","comments":"","position":{"x":2464.0,"y":392.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"DISABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"911e672d-df67-3f8b-8891-05951ab150df"}],"connections":[{"identifier":"aa1c7532-2d52-3c71-ab37-0f821ed0d0df","instanceIdentifier":"a3f333e8-26b8-1d9c-ffff-ffffcd69ba27","name":"","source":{"id":"8c098c3b-27ff-3f6f-bdfd-8fb7b53fd00a","type":"OUTPUT_PORT","groupId":"e41b9db3-08a6-3a35-ab81-b658c355e609","name":"inbound msg (AMQP)","comments":"","instanceIdentifier":"c3c6384b-0f61-1bfd-978d-3c54d8402697"},"destination":{"id":"a917b23d-f90b-309d-940a-1d8efdc607ea","type":"OUTPUT_PORT","groupId":"911e672d-df67-3f8b-8891-05951ab150df","name":"inbound msg","comments":"","instanceIdentifier":"6f78342e-6d65-1291-87d7-2c30d98c1c8b"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"911e672d-df67-3f8b-8891-05951ab150df"}],"labels":[{"identifier":"096b466e-ae1d-3b3d-9baa-9aee2fea96fa","instanceIdentifier":"64533d47-954e-104c-8a88-e4b698135a35","position":{"x":2440.0,"y":320.0},"label":"To Transformation Engine\n(for processing)","zIndex":0,"width":288.0,"height":144.0,"style":{"font-size":"20px"},"componentType":"LABEL","groupIdentifier":"911e672d-df67-3f8b-8891-05951ab150df"}],"funnels":[],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"edfa7040-902a-33a6-b170-c0d22e698d63"},{"identifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","instanceIdentifier":"2bce39c3-078d-16e9-a4db-88efc7773f7c","name":"TransformationFlow","comments":"","position":{"x":2416.0,"y":376.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"6242682e-9bac-3b53-9d7b-9d64516d90c8","instanceIdentifier":"aeab3c70-909c-1abf-bb7f-e502186c60a4","name":"TransformXml","comments":"","position":{"x":960.0,"y":504.0},"type":"org.apache.nifi.processors.standard.TransformXml","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"xslt-controller-key":null,"xslt-controller":null,"secure-processing":"true","cache-size":"10","indent-output":"true","XSLT file name":"#{files.xslt.path}${transform.spec.filename}","cache-ttl-after-last-access":"60 secs"},"propertyDescriptors":{"xslt-controller-key":{"name":"xslt-controller-key","displayName":"XSLT Lookup key","identifiesControllerService":false,"sensitive":false},"xslt-controller":{"name":"xslt-controller","displayName":"XSLT Lookup","identifiesControllerService":true,"sensitive":false},"secure-processing":{"name":"secure-processing","displayName":"Secure processing","identifiesControllerService":false,"sensitive":false},"cache-size":{"name":"cache-size","displayName":"Cache size","identifiesControllerService":false,"sensitive":false},"indent-output":{"name":"indent-output","displayName":"Indent","identifiesControllerService":false,"sensitive":false},"XSLT file name":{"name":"XSLT file name","displayName":"XSLT file name","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"cache-ttl-after-last-access":{"name":"cache-ttl-after-last-access","displayName":"Cache TTL after last access","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"6316aa5f-16b5-38b7-8aeb-127115ef8ba4","instanceIdentifier":"0e8d31d4-5d3f-1604-a2c6-736ae337b451","name":"LogMessage","comments":"","position":{"x":112.0,"y":448.0},"type":"org.apache.nifi.processors.standard.LogMessage","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"log-message":"Failed to transform ${metadata:jsonPath(\"$['provider']\")} message with id ${metadata:jsonPath(\"$['message.identifier']\")} and type ${metadata:jsonPath(\"$['message.type']\")}","log-level":"info","log-prefix":"#{logging.prefix.engine.transformation}"},"propertyDescriptors":{"log-message":{"name":"log-message","displayName":"Log message","identifiesControllerService":false,"sensitive":false},"log-level":{"name":"log-level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false},"log-prefix":{"name":"log-prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"95304a75-3623-3962-a00d-e735f966665c","instanceIdentifier":"a4e73a66-99ca-11c0-bb2a-5b3f6e206bb8","name":"Retain filtered messages","comments":"","position":{"x":1768.0,"y":320.0},"type":"org.apache.nifi.processors.standard.LogMessage","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"log-message":null,"log-level":"info","log-prefix":null},"propertyDescriptors":{"log-message":{"name":"log-message","displayName":"Log message","identifiesControllerService":false,"sensitive":false},"log-level":{"name":"log-level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false},"log-prefix":{"name":"log-prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"e135f8ef-12ae-3507-870b-3c25e1b4877a","instanceIdentifier":"dacb3051-d30d-1ee8-91c7-7cf175d6ef2a","name":"Route on Provider (Rules)","comments":"","position":{"x":120.0,"y":752.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Routing Strategy":"Route to Property name","filtered":"${#{integrator.filter.expression}:evaluateELString():equalsIgnoreCase('true')}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"filtered":{"name":"filtered","displayName":"filtered","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"36feaeef-8d4a-3b8e-ab0f-cdc111ee9021","instanceIdentifier":"363d3239-c1c9-18ae-95bd-c2171b28e34e","name":"[Headers] Updates Values (script)","comments":"","position":{"x":960.0,"y":960.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"  import org.apache.commons.io.IOUtils\n  import java.nio.charset.*\n  import java.io.DataInputStream\n  import javax.xml.bind.DatatypeConverter;\n  import java.time.LocalDate;\n  import java.time.ZoneId;\n  import java.util.Calendar;\n  import java.util.Date;\n\n  def flowFile = session.get();\n  if(!flowFile) return\n\n  def fail = false\n  def latlongCorrection = 2147483648;\n  def pattern = \"yyyy/MM/dd HH:mm:ss.SSS'Z'\";\n  def referenceTimestamp = '2004/01/01 00:00:00.000Z';\n\n  if (flowFile!= null){\n      def date_reference;\n      def date_reference_timestamp;\n      def newCurrentTimestamp;\n      def dateHex;\n      flowFile = session.write(flowFile, {inputStream, outputStream ->        \n         try{ \n              def currentLatitude = Long.valueOf(flowFile.getAttribute(\"latitude\"));\n              def currentLongitude = Long.valueOf(flowFile.getAttribute(\"longitude\"));\n              def currentTimestamp = Long.valueOf(flowFile.getAttribute(\"messageTimestamp\"));\n              def inputStreamRed = IOUtils.toString(inputStream, StandardCharsets.UTF_8);\n              def newLatitude;\n              def newLongitude;\n              if (currentLatitude<0){\n                  newLatitude = currentLatitude + Long.valueOf(latlongCorrection); \n              }else {\n                  newLatitude = currentLatitude - Long.valueOf(latlongCorrection); \n              }\n              if (currentLongitude<0){\n                  newLongitude = currentLongitude + Long.valueOf(latlongCorrection); \n              }else {\n                  newLongitude = currentLongitude - Long.valueOf(latlongCorrection); \n              }\n              def conversionLatitude = inputStreamRed.replaceAll('##Latitude##',newLatitude.toString());\n              def conversionLongitude = conversionLatitude.replaceAll('##Longitude##',newLongitude.toString());\n              date_reference = Date.parse(pattern, referenceTimestamp);\n              date_reference_timestamp = date_reference.getTime();\n              newCurrentTimestamp = currentTimestamp - date_reference_timestamp;\n              dateHex = Long.toHexString(newCurrentTimestamp);\n\n              def dateHexlength= dateHex.length();\n              def hexDateTst = dateHex.substring((dateHexlength-8), dateHexlength);\n\t\t\t  def dateTst = Long.parseLong(hexDateTst, 16);\n              def conversionTimestamp = conversionLongitude.replaceAll('##Timestamp##',dateTst.toString()); \n             \n              outputStream.write(conversionTimestamp.getBytes(StandardCharsets.UTF_8));\n         }catch(e) {\n              log.error(\"Error during processing of validate.groovy\", e)\n              //session.transfer(flowFile, REL_FAILURE)\n              fail=true\n          }\n\n      } as StreamCallback)\n\n      if(fail){\n          session.transfer(flowFile, REL_FAILURE)\n          fail = false\n      } else {\n          session.putAttribute(flowFile, 'resultHex', Long.toHexString(newCurrentTimestamp));\n          session.transfer(flowFile, REL_SUCCESS)\n      }\n  }\n","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"3f9daa19-7413-3c69-a26a-03b8c33f685b","instanceIdentifier":"01213b16-44cb-19bb-9497-5663da498fc6","name":"Consume from Transform Topic","comments":"","position":{"x":96.0,"y":-528.0},"type":"org.apache.nifi.processors.kafka.pubsub.ConsumeKafka_2_6","bundle":{"group":"org.apache.nifi","artifact":"nifi-kafka-2-6-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"header-name-regex":null,"Commit Offsets":"true","group.id":"#{kafka.group.transformation}","bootstrap.servers":"#{kafka.brokers}","topic_type":"names","sasl.kerberos.principal":null,"sasl.kerberos.service.name":null,"kerberos-credentials-service":null,"max-uncommit-offset-wait":"1 secs","sasl.mechanism":"GSSAPI","honor-transactions":"true","kerberos-user-service":null,"message-header-encoding":"UTF-8","message-demarcator":null,"sasl.username":"#{kafka.security.username1}","max.poll.records":"10000","security.protocol":"PLAINTEXT","ssl.context.service":null,"sasl.token.auth":"false","sasl.kerberos.keytab":null,"Communications Timeout":"60 secs","topic":"#{kafka.topic.transformation}","separate-by-key":"false","sasl.password":"#{kafka.security.password1}","key-attribute-encoding":"utf-8","auto.offset.reset":"latest"},"propertyDescriptors":{"header-name-regex":{"name":"header-name-regex","displayName":"Headers to Add as Attributes (Regex)","identifiesControllerService":false,"sensitive":false},"Commit Offsets":{"name":"Commit Offsets","displayName":"Commit Offsets","identifiesControllerService":false,"sensitive":false},"group.id":{"name":"group.id","displayName":"Group ID","identifiesControllerService":false,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"topic_type":{"name":"topic_type","displayName":"Topic Name Format","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.principal":{"name":"sasl.kerberos.principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"max-uncommit-offset-wait":{"name":"max-uncommit-offset-wait","displayName":"Max Uncommitted Time","identifiesControllerService":false,"sensitive":false},"sasl.mechanism":{"name":"sasl.mechanism","displayName":"SASL Mechanism","identifiesControllerService":false,"sensitive":false},"honor-transactions":{"name":"honor-transactions","displayName":"Honor Transactions","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"message-header-encoding":{"name":"message-header-encoding","displayName":"Message Header Encoding","identifiesControllerService":false,"sensitive":false},"message-demarcator":{"name":"message-demarcator","displayName":"Message Demarcator","identifiesControllerService":false,"sensitive":false},"sasl.username":{"name":"sasl.username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"max.poll.records":{"name":"max.poll.records","displayName":"Max Poll Records","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"sasl.token.auth":{"name":"sasl.token.auth","displayName":"Token Auth","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.keytab":{"name":"sasl.kerberos.keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false},"topic":{"name":"topic","displayName":"Topic Name(s)","identifiesControllerService":false,"sensitive":false},"separate-by-key":{"name":"separate-by-key","displayName":"Separate By Key","identifiesControllerService":false,"sensitive":false},"sasl.password":{"name":"sasl.password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"key-attribute-encoding":{"name":"key-attribute-encoding","displayName":"Key Attribute Encoding","identifiesControllerService":false,"sensitive":false},"auto.offset.reset":{"name":"auto.offset.reset","displayName":"Offset Reset","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"fc268081-cf7d-3055-977b-f5e449a7f9c2","instanceIdentifier":"1350339d-fe36-130c-9b3b-7dc943140a09","name":"Route On Format (Json / Xml)","comments":"","position":{"x":104.0,"y":-136.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Routing Strategy":"Route to Property name","xml":"${messageFormat:equalsIgnoreCase('xml')}","json":"${messageFormat:equalsIgnoreCase('json')}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"xml":{"name":"xml","displayName":"xml","identifiesControllerService":false,"sensitive":false},"json":{"name":"json","displayName":"json","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"5f6240c7-c640-3838-abf4-25d82775d556","instanceIdentifier":"5ad43ac8-e0bd-1527-8357-40551bdcff7b","name":"Avoid Special characters","comments":"","position":{"x":960.0,"y":320.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Regular Expression":"(&)","Replacement Value":"&amp;","Evaluation Mode":"Line-by-Line","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace"},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"6944060b-7529-3665-b754-03f35178598a","instanceIdentifier":"9b613d54-0d04-1542-b1f2-5280f900c010","name":"Retain filtered messages","comments":"","position":{"x":-336.0,"y":1000.0},"type":"org.apache.nifi.processors.standard.LogMessage","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"log-message":null,"log-level":"info","log-prefix":null},"propertyDescriptors":{"log-message":{"name":"log-message","displayName":"Log message","identifiesControllerService":false,"sensitive":false},"log-level":{"name":"log-level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false},"log-prefix":{"name":"log-prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"a42ec83b-219d-302b-9353-9aaa8afce308","instanceIdentifier":"4a493466-4571-1013-bb27-0377413c4714","name":"JoltTransformJSON","comments":"","position":{"x":-536.0,"y":320.0},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"default\",\n    \"spec\": {\n      \"gbcGacHeader\": {\n        \"basicHeader\": {\n          \"version\": 1,\n          \"nextHeader\": 1,\n          \"reserved\": 0,\n          \"lifeTime\": {\n            \"multiplier\": 19,\n            \"base\": 0\n          },\n          \"remaingHop\": 1\n        },\n        \"commonHeader\": {\n          \"flags\": {\n            \"mobile\": true,\n            \"reserved\": 0\n          },\n          \"headerSubType\": 0,\n          \"headerType\": 4,\n          \"maxHopLimit\": 1,\n          \"nextHeader\": 2,\n          \"payloadLength\": 61,\n          \"reserved1\": 0,\n          \"reserved2\": 0,\n          \"traficClass\": {\n            \"channelOffload\": false,\n            \"scf\": false,\n            \"tcID\": 0\n          }\n        },\n        \"reserved1\": 0,\n        \"reserved2\": 0\n      }\n    }\n  },\n  {\n    \"operation\": \"default\",\n    \"spec\": {\n      \"sopv\": {\n        \"address\": {\n          \"configuration\": \"manual\",\n          \"stationType\": 0,\n          \"reserved\": 0,\n          \"mid\": {\n            \"lsb\": 0,\n            \"msb\": 0\n          }\n        },\n        \"pai\": false,\n        \"speed\": -16383,\n        \"heading\": 0\n      }\n    }\n  },\n  {\n    \"operation\": \"default\",\n    \"spec\": {\n      \"geoArea\": {\n        \"distanceA\": 50,\n        \"distanceB\": 0,\n        \"angle\": 0\n      }\n    }\n  },\n  {\n    \"operation\": \"default\",\n    \"spec\": {\n      \"btpb\": {\n        \"destinationPort\": 2002,\n        \"destinationPortInfo\": 0\n      }\n    }\n  },\n  {\n    \"operation\": \"default\",\n    \"spec\": {\n      \"denm\": {\n        \"header\": {\n          \"protocolVersion\": 2,\n          \"messageID\": 1\n        }\n      }\n    }\n  },\n  {\n    \"operation\": \"default\",\n    \"spec\": {\n      \"management\": {\n        \"eventPosition\": {\n          \"altitude\": {\n            \"altitudeConfidence\": \"alt-000-02\"\n          },\n          \"positionConfidenceEllipse\": {\n            \"semiMajorConfidence\": 377,\n            \"semiMajorOrientation\": 0,\n            \"semiMinorConfidence\": 377\n          }\n        },\n        \"stationType\": 0\n      },\n      \"situation\": {\n        \"informationQuality\": 7,\n        \"eventType\": {\n          \"causeCode\": 17,\n          \"subCauseCode\": 0\n        }\n      },\n      \"location\": {\n        \"traces\": [\n          []\n        ]\n      }\n    }\n  },\n  {\n    \"operation\": \"modify-overwrite-beta\",\n    \"spec\": {\n      \"properties\": {\n        \"ALTITUDE\": \"=divideAndRound(0,@(0),1)\"\n      }\n    }\n  },\n  {\n    \"operation\": \"modify-overwrite-beta\",\n    \"spec\": {\n      \"properties\": {\n        \"ALTITUDE\": \"=toInteger\"\n      }\n    }\n  },\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"gbcGacHeader\": \"gbcGacHeader\",\n      \"btpb\": \"btpb\",\n      \"denm\": \"denm\",\n      \"management\": \"denm.denm.management\",\n      \"situation\": \"denm.denm.situation\",\n      \"location\": \"denm.denm.location\",\n      \"sopv\": \"gbcGacHeader.sopv\",\n      \"geoArea\": \"gbcGacHeader.geoArea\",\n      \"properties\": {\n        \"ALTITUDE\": \"denm.denm.management.eventPosition.altitude.altitudeValue\",\n        \"EXPIRES\": \"denm.denm.management.validityDuration\",\n        \"WARNCELLID\": [\n          \"gbcGacHeader.sequenceNumber\",\n          \"denm.header.stationID\",\n          \"denm.denm.management.actionID.originatingStationID\",\n          \"denm.denm.management.actionID.sequenceNumber\"\n        ]\n      },\n      \"timestamp\": [\n        \"gbcGacHeader.sopv.tst\",\n        \"denm.denm.management.detectionTime\",\n        \"denm.denm.management.referenceTime\"\n      ],\n      \"longitude\": [\n        \"gbcGacHeader.sopv.longitude\",\n        \"denm.denm.management.eventPosition.longitude\",\n        \"gbcGacHeader.geoArea.long\"\n      ],\n      \"latitude\": [\n        \"gbcGacHeader.sopv.latitude\",\n        \"denm.denm.management.eventPosition.latitude\",\n        \"gbcGacHeader.geoArea.lat\"\n      ]\n    }\n  },\n  {\n    \"operation\": \"step.v2xjolttransformer.transformers.SequenceTransformer\",\n    \"spec\": {\n      \"sequenceNumber\": [\n        \"gbcGacHeader.sequenceNumber\",\n        \"denm.denm.management.actionID.sequenceNumber\"\n      ]\n    }\n  },\n  {\n    \"operation\": \"step.v2xjolttransformer.transformers.LatitudeLongitudeTransformer\",\n    \"spec\": {\n      \"latitude\": [\n        \"gbcGacHeader.sopv.latitude\",\n        \"denm.denm.management.eventPosition.latitude\",\n        \"gbcGacHeader.geoArea.lat\"\n      ],\n      \"longitude\": [\n        \"gbcGacHeader.sopv.longitude\",\n        \"denm.denm.management.eventPosition.longitude\",\n        \"gbcGacHeader.geoArea.long\"\n      ]\n    }\n  },\n  {\n    \"operation\": \"step.v2xjolttransformer.transformers.TstTransformer\",\n    \"spec\": {\n      \"tst\": [\n        \"gbcGacHeader.sopv.tst\"\n      ]\n    }\n  },\n  {\n    \"operation\": \"step.v2xjolttransformer.transformers.TimestampsTransformer\",\n    \"spec\": {\n      \"tst\": [\n        \"denm.denm.management.detectionTime\",\n        \"denm.denm.management.referenceTime\"\n      ]\n    }\n  },\n  {\n    \"operation\": \"step.v2xjolttransformer.transformers.ValidityDurationTransformer\",\n    \"spec\": {\n      \"tst\": \"denm.denm.management.validityDuration\"\n    }\n  }\n]","jolt-transform":"jolt-transform-chain","jolt-custom-class":"#{mds.custom.transformation.class}","jolt-custom-modules":"#{mds.custom.module.path}","pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"2d0a3568-e7ad-393d-bf91-cd932258e6b4","instanceIdentifier":"a1e1300c-0f65-19fd-b5dd-b7af8747adfc","name":"Route on Provider (Rules)","comments":"","position":{"x":1328.0,"y":120.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Routing Strategy":"Route to Property name","filtered":"${#{integrator.filter.expression}:evaluateELString():equalsIgnoreCase('true')}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"filtered":{"name":"filtered","displayName":"filtered","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"0c362fc6-4ddc-3666-9dcb-d8b35ce9b0ee","instanceIdentifier":"504331f9-41dd-1201-a5dc-0025958af576","name":"Extract Transform Attributes","comments":"","position":{"x":96.0,"y":-328.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Delete Attributes Expression":null,"message.type":"${metadata:jsonPath(\"$['message.type']\")}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","provider":"${metadata:jsonPath(\"$['provider']\")}","messageFormat":"${metadata:jsonPath(\"$['message.format']\")}","latitude":"${metadata:jsonPath(\"$['reference.latitude']\")}","Stateful Variables Initial Value":null,"message.key":"${metadata:jsonPath(\"$['message.key']\")}","messageTimestamp":"${metadata:jsonPath(\"$['message.timestamp']\")}","longitude":"${metadata:jsonPath(\"$['reference.longitude']\")}"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"message.type":{"name":"message.type","displayName":"message.type","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"provider":{"name":"provider","displayName":"provider","identifiesControllerService":false,"sensitive":false},"messageFormat":{"name":"messageFormat","displayName":"messageFormat","identifiesControllerService":false,"sensitive":false},"latitude":{"name":"latitude","displayName":"latitude","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"message.key":{"name":"message.key","displayName":"message.key","identifiesControllerService":false,"sensitive":false},"messageTimestamp":{"name":"messageTimestamp","displayName":"messageTimestamp","identifiesControllerService":false,"sensitive":false},"longitude":{"name":"longitude","displayName":"longitude","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"3e821b34-aebf-39d8-827e-867d1cc42c59","instanceIdentifier":"48893ae8-62fb-1a00-afbe-ed84b75fc16c","name":"LogMessage","comments":"","position":{"x":1600.0,"y":960.0},"type":"org.apache.nifi.processors.standard.LogMessage","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"log-message":"Failed to update header values in ${JSONAttributes:jsonPath(\"$['provider']\")} message with id ${JSONAttributes:jsonPath(\"$['message.identifier']\")} and type ${JSONAttributes:jsonPath(\"$['message.type']\")}","log-level":"info","log-prefix":"#{logging.prefix.engine.transformation}"},"propertyDescriptors":{"log-message":{"name":"log-message","displayName":"Log message","identifiesControllerService":false,"sensitive":false},"log-level":{"name":"log-level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false},"log-prefix":{"name":"log-prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"f2b28187-6216-3c02-94ef-0a32d1d66822","instanceIdentifier":"fc923991-5371-1bda-98e5-5eeab3554dec","name":"LogMessage","comments":"","position":{"x":-672.0,"y":-136.0},"type":"org.apache.nifi.processors.standard.LogMessage","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"log-message":"Format not suported ${JSONAttributes:jsonPath(\"$['message.format']\")} message with id ${JSONAttributes:jsonPath(\"$['message.identifier']\")}","log-level":"info","log-prefix":"#{logging.prefix.engine.transformation}"},"propertyDescriptors":{"log-message":{"name":"log-message","displayName":"Log message","identifiesControllerService":false,"sensitive":false},"log-level":{"name":"log-level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false},"log-prefix":{"name":"log-prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"}],"inputPorts":[{"identifier":"c7fdca7d-597a-389a-aac6-ca7962e5a3e4","instanceIdentifier":"4e533aee-6adb-1901-a836-1e8ddccd7a77","name":"input","comments":"","position":{"x":-232.0,"y":-528.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"DISABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"}],"outputPorts":[{"identifier":"b0a156d1-c226-3abe-a7a2-e2fbb1713335","instanceIdentifier":"827634fb-3e05-1129-a82c-a48885f2ca67","name":"for processing (from Transform)","comments":"","position":{"x":176.0,"y":1296.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"DISABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"}],"connections":[{"identifier":"92d44d69-7acc-30fb-ac6a-17bcca41d80b","instanceIdentifier":"0cc03513-73d7-142e-be15-1ed725e77d0d","name":"transform queue input","source":{"id":"3f9daa19-7413-3c69-a26a-03b8c33f685b","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Consume from Transform Topic","comments":"","instanceIdentifier":"01213b16-44cb-19bb-9497-5663da498fc6"},"destination":{"id":"0c362fc6-4ddc-3666-9dcb-d8b35ce9b0ee","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Extract Transform Attributes","comments":"","instanceIdentifier":"504331f9-41dd-1201-a5dc-0025958af576"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"a360fed4-eadb-36fa-84a2-17c0683e199c","instanceIdentifier":"7c403757-b30a-1ab6-8dd4-c85919959c21","name":"","source":{"id":"a42ec83b-219d-302b-9353-9aaa8afce308","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"JoltTransformJSON","comments":"","instanceIdentifier":"4a493466-4571-1013-bb27-0377413c4714"},"destination":{"id":"e135f8ef-12ae-3507-870b-3c25e1b4877a","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Route on Provider (Rules)","comments":"","instanceIdentifier":"dacb3051-d30d-1ee8-91c7-7cf175d6ef2a"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-360.0,"y":816.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"180242be-9eeb-3f64-b758-be9bfa13b33e","instanceIdentifier":"278d3bf4-b8f3-1a54-aec4-7a3bb4bc4251","name":"","source":{"id":"36feaeef-8d4a-3b8e-ab0f-cdc111ee9021","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"[Headers] Updates Values (script)","comments":"","instanceIdentifier":"363d3239-c1c9-18ae-95bd-c2171b28e34e"},"destination":{"id":"3e821b34-aebf-39d8-827e-867d1cc42c59","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"LogMessage","comments":"","instanceIdentifier":"48893ae8-62fb-1a00-afbe-ed84b75fc16c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"949fac3a-6a60-3cf7-9644-d1eb85aa174d","instanceIdentifier":"e3c83d2d-d5de-13e9-a299-3543af67d288","name":"","source":{"id":"5f6240c7-c640-3838-abf4-25d82775d556","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Avoid Special characters","comments":"","instanceIdentifier":"5ad43ac8-e0bd-1527-8357-40551bdcff7b"},"destination":{"id":"6242682e-9bac-3b53-9d7b-9d64516d90c8","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"TransformXml","comments":"","instanceIdentifier":"aeab3c70-909c-1abf-bb7f-e502186c60a4"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"92eae6af-d2b4-329a-9f27-fb7dcb6041c2","instanceIdentifier":"66483a78-2861-15a8-9045-b3195924d451","name":"","source":{"id":"fc268081-cf7d-3055-977b-f5e449a7f9c2","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Route On Format (Json / Xml)","comments":"","instanceIdentifier":"1350339d-fe36-130c-9b3b-7dc943140a09"},"destination":{"id":"2d0a3568-e7ad-393d-bf91-cd932258e6b4","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Route on Provider (Rules)","comments":"","instanceIdentifier":"a1e1300c-0f65-19fd-b5dd-b7af8747adfc"},"labelIndex":1,"zIndex":0,"selectedRelationships":["xml"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1136.0,"y":184.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"d7c6793d-1529-3767-a323-6d503e383f31","instanceIdentifier":"f1df3f15-07da-10f8-bd09-233e2828b31d","name":"json failure","source":{"id":"a42ec83b-219d-302b-9353-9aaa8afce308","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"JoltTransformJSON","comments":"","instanceIdentifier":"4a493466-4571-1013-bb27-0377413c4714"},"destination":{"id":"6316aa5f-16b5-38b7-8aeb-127115ef8ba4","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"LogMessage","comments":"","instanceIdentifier":"0e8d31d4-5d3f-1604-a2c6-736ae337b451"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"68490817-3309-37f1-acb2-fce3df75f079","instanceIdentifier":"78f131c4-3f3d-1630-afeb-3707ae4d5b1c","name":"","source":{"id":"2d0a3568-e7ad-393d-bf91-cd932258e6b4","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Route on Provider (Rules)","comments":"","instanceIdentifier":"a1e1300c-0f65-19fd-b5dd-b7af8747adfc"},"destination":{"id":"95304a75-3623-3962-a00d-e735f966665c","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Retain filtered messages","comments":"","instanceIdentifier":"a4e73a66-99ca-11c0-bb2a-5b3f6e206bb8"},"labelIndex":1,"zIndex":0,"selectedRelationships":["filtered"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1944.0,"y":184.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"31b76dd0-461c-3024-b6e9-cd1df2fa271e","instanceIdentifier":"4ddd30ba-f3bc-1baa-89e7-2b887a5a262f","name":"","source":{"id":"c7fdca7d-597a-389a-aac6-ca7962e5a3e4","type":"INPUT_PORT","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"input","comments":"","instanceIdentifier":"4e533aee-6adb-1901-a836-1e8ddccd7a77"},"destination":{"id":"0c362fc6-4ddc-3666-9dcb-d8b35ce9b0ee","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Extract Transform Attributes","comments":"","instanceIdentifier":"504331f9-41dd-1201-a5dc-0025958af576"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-112.0,"y":-408.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"eb601a4d-8db3-3a2b-a4fe-8d73fbc2d7e0","instanceIdentifier":"aa9c31ba-4325-1440-a243-20ad12138682","name":"","source":{"id":"fc268081-cf7d-3055-977b-f5e449a7f9c2","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Route On Format (Json / Xml)","comments":"","instanceIdentifier":"1350339d-fe36-130c-9b3b-7dc943140a09"},"destination":{"id":"f2b28187-6216-3c02-94ef-0a32d1d66822","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"LogMessage","comments":"","instanceIdentifier":"fc923991-5371-1bda-98e5-5eeab3554dec"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"eff7abeb-80ae-3778-84e5-e897146319aa","instanceIdentifier":"f8483f3e-a635-1d5d-b24c-230e755420fb","name":"","source":{"id":"36feaeef-8d4a-3b8e-ab0f-cdc111ee9021","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"[Headers] Updates Values (script)","comments":"","instanceIdentifier":"363d3239-c1c9-18ae-95bd-c2171b28e34e"},"destination":{"id":"e135f8ef-12ae-3507-870b-3c25e1b4877a","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Route on Provider (Rules)","comments":"","instanceIdentifier":"dacb3051-d30d-1ee8-91c7-7cf175d6ef2a"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"9296b584-c643-3275-bea5-487f0521484b","instanceIdentifier":"42ce3f3c-11b9-1d35-bf09-4a6574b643ca","name":"","source":{"id":"6242682e-9bac-3b53-9d7b-9d64516d90c8","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"TransformXml","comments":"","instanceIdentifier":"aeab3c70-909c-1abf-bb7f-e502186c60a4"},"destination":{"id":"36feaeef-8d4a-3b8e-ab0f-cdc111ee9021","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"[Headers] Updates Values (script)","comments":"","instanceIdentifier":"363d3239-c1c9-18ae-95bd-c2171b28e34e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"9f718da7-abe4-3ba4-870d-d6c275c66db0","instanceIdentifier":"172536c7-2b24-1c21-b230-772bb86b2015","name":"","source":{"id":"fc268081-cf7d-3055-977b-f5e449a7f9c2","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Route On Format (Json / Xml)","comments":"","instanceIdentifier":"1350339d-fe36-130c-9b3b-7dc943140a09"},"destination":{"id":"a42ec83b-219d-302b-9353-9aaa8afce308","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"JoltTransformJSON","comments":"","instanceIdentifier":"4a493466-4571-1013-bb27-0377413c4714"},"labelIndex":1,"zIndex":0,"selectedRelationships":["json"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-360.0,"y":184.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"b624f9ac-43e9-3153-bd2d-45b1714fa91f","instanceIdentifier":"a20e313e-4f67-1ae4-8627-711ec824854a","name":"","source":{"id":"e135f8ef-12ae-3507-870b-3c25e1b4877a","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Route on Provider (Rules)","comments":"","instanceIdentifier":"dacb3051-d30d-1ee8-91c7-7cf175d6ef2a"},"destination":{"id":"b0a156d1-c226-3abe-a7a2-e2fbb1713335","type":"OUTPUT_PORT","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"for processing (from Transform)","comments":"","instanceIdentifier":"827634fb-3e05-1129-a82c-a48885f2ca67"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"048e9664-3933-31be-9952-7b904cb08633","instanceIdentifier":"4f603f0e-d682-1213-96d6-e3e31b7c2b5e","name":"","source":{"id":"95304a75-3623-3962-a00d-e735f966665c","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Retain filtered messages","comments":"","instanceIdentifier":"a4e73a66-99ca-11c0-bb2a-5b3f6e206bb8"},"destination":{"id":"5f6240c7-c640-3838-abf4-25d82775d556","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Avoid Special characters","comments":"","instanceIdentifier":"5ad43ac8-e0bd-1527-8357-40551bdcff7b"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1648.0,"y":384.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"e73bc84d-c026-3dd9-8dc6-e5ba1e4b55fb","instanceIdentifier":"fc003057-0fc4-1c47-819d-0b45d15be8d2","name":"","source":{"id":"e135f8ef-12ae-3507-870b-3c25e1b4877a","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Route on Provider (Rules)","comments":"","instanceIdentifier":"dacb3051-d30d-1ee8-91c7-7cf175d6ef2a"},"destination":{"id":"6944060b-7529-3665-b754-03f35178598a","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Retain filtered messages","comments":"","instanceIdentifier":"9b613d54-0d04-1542-b1f2-5280f900c010"},"labelIndex":1,"zIndex":0,"selectedRelationships":["filtered"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"3f405a8a-928e-3287-862b-c45075347d73","instanceIdentifier":"19833fec-1a41-1355-a159-fa7ebcf12cb5","name":"","source":{"id":"5f6240c7-c640-3838-abf4-25d82775d556","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Avoid Special characters","comments":"","instanceIdentifier":"5ad43ac8-e0bd-1527-8357-40551bdcff7b"},"destination":{"id":"6316aa5f-16b5-38b7-8aeb-127115ef8ba4","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"LogMessage","comments":"","instanceIdentifier":"0e8d31d4-5d3f-1604-a2c6-736ae337b451"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"d8975281-4218-3d17-be83-18537a9d978b","instanceIdentifier":"85c33f75-4950-150c-967e-40277582581b","name":"","source":{"id":"0c362fc6-4ddc-3666-9dcb-d8b35ce9b0ee","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Extract Transform Attributes","comments":"","instanceIdentifier":"504331f9-41dd-1201-a5dc-0025958af576"},"destination":{"id":"fc268081-cf7d-3055-977b-f5e449a7f9c2","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Route On Format (Json / Xml)","comments":"","instanceIdentifier":"1350339d-fe36-130c-9b3b-7dc943140a09"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"d1a4870c-a776-381c-9355-c748b3216368","instanceIdentifier":"883c3313-827a-1bb8-a764-479ed7559314","name":"","source":{"id":"2d0a3568-e7ad-393d-bf91-cd932258e6b4","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Route on Provider (Rules)","comments":"","instanceIdentifier":"a1e1300c-0f65-19fd-b5dd-b7af8747adfc"},"destination":{"id":"5f6240c7-c640-3838-abf4-25d82775d556","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Avoid Special characters","comments":"","instanceIdentifier":"5ad43ac8-e0bd-1527-8357-40551bdcff7b"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1504.0,"y":320.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"5be055e0-b527-36a9-8904-63064bd06ba3","instanceIdentifier":"c1d236f3-9a65-1afc-afb4-d08632ec377f","name":"","source":{"id":"6242682e-9bac-3b53-9d7b-9d64516d90c8","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"TransformXml","comments":"","instanceIdentifier":"aeab3c70-909c-1abf-bb7f-e502186c60a4"},"destination":{"id":"6316aa5f-16b5-38b7-8aeb-127115ef8ba4","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"LogMessage","comments":"","instanceIdentifier":"0e8d31d4-5d3f-1604-a2c6-736ae337b451"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"01c1390b-9ec7-38e7-a64a-59bfd40170fe","instanceIdentifier":"e1e83934-953f-10d6-abac-360df7f4ac11","name":"","source":{"id":"6944060b-7529-3665-b754-03f35178598a","type":"PROCESSOR","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"Retain filtered messages","comments":"","instanceIdentifier":"9b613d54-0d04-1542-b1f2-5280f900c010"},"destination":{"id":"b0a156d1-c226-3abe-a7a2-e2fbb1713335","type":"OUTPUT_PORT","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"for processing (from Transform)","comments":"","instanceIdentifier":"827634fb-3e05-1129-a82c-a48885f2ca67"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-160.0,"y":1320.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"}],"labels":[{"identifier":"0f703d5c-abcb-39ad-98a9-2f42f78ab0c9","instanceIdentifier":"66513a54-6b28-1fea-9d98-9d739ede154c","position":{"x":456.0,"y":-528.0},"label":"Expected Input:\n- JSONAttribute - json structure\n- transform.spec.filename - xslt filename included in the JSONAttribute\n \nDisclaimer: For now, Transform Spec (hardcoded)\nwaiting  for SSB integration","zIndex":0,"width":480.0,"height":160.0,"style":{"font-size":"14px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"30e9c4e6-401b-3a09-b967-d56101394621","instanceIdentifier":"8031385b-d73a-1573-aab4-174ec4176cbc","position":{"x":960.0,"y":256.0},"label":"XML","zIndex":0,"width":352.0,"height":48.0,"style":{"font-size":"22px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"6e589077-ee69-38d2-9e9e-0c586a81605e","instanceIdentifier":"ba4130de-88a0-13af-b553-f7bc5dbd71d5","position":{"x":120.0,"y":696.0},"label":"For Filtering...","zIndex":0,"width":352.0,"height":48.0,"style":{"font-size":"22px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"22082c1a-a364-3764-b12b-c35a09d105a6","instanceIdentifier":"82f53cfd-d7a0-15d6-8533-3a6b4271021c","position":{"x":1400.0,"y":1056.0},"label":"Concurrent\nTasks: 4","zIndex":0,"width":88.0,"height":136.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"efeba8d1-b1ca-3e7a-b17e-5e37342407fb","instanceIdentifier":"21563674-33f9-15f4-bf58-d373e8b14a54","position":{"x":-80.0,"y":-328.0},"label":"Concurrent\nTasks: 2","zIndex":0,"width":152.0,"height":320.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"8727c147-9ef1-3a70-a413-1498238cfcf5","instanceIdentifier":"123c36fd-9dd1-1e16-b7ae-b734bb5d11b0","position":{"x":824.0,"y":256.0},"label":"Concurrent\nTasks: 4\n  \n \n \n \n \n \n \n \n \n \n \n \nConcurrent\nTasks: 2","zIndex":0,"width":128.0,"height":936.0,"style":{"font-size":"20px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"7ab76068-507e-3a7c-8b10-5cac0599c6ee","instanceIdentifier":"422c3d57-9387-17d0-84b0-31fa293eb8c3","position":{"x":1328.0,"y":64.0},"label":"For Filtering...","zIndex":0,"width":352.0,"height":48.0,"style":{"font-size":"22px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"f8b2e21b-47ee-351b-8ef1-6584cb80b41f","instanceIdentifier":"283030cc-c340-12d9-a07c-c81b714505c0","position":{"x":1168.0,"y":-544.0},"label":"\nHelpfull documentation\n\n     - https://nifi.apache.org/docs/nifi-docs/html/expression-language-guide.html#functions\n\n-------------------\n{\"message.identifier\":\"f1844e2b-59ed-4d2b-92ee-ef2b93c65150\",\n\"message.type\":\"ivim\",\"message.format\":\"xml\",\n\"provider\":\"Commsignia\",\"reference.longitude\":\"-842859299\",\n\"message.timestamp\":\"2022-08-30T11:08:13.128527Z\",\n\"reference.latitude\":\"340549440\",\"action\":\"UPDATE\"}","zIndex":0,"width":728.0,"height":232.0,"style":{"font-size":"16px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"10c708d2-1add-3c60-8680-468435f44603","instanceIdentifier":"e92a3037-bb8e-182f-a1fc-ec0f4eda359e","position":{"x":960.0,"y":1200.0},"label":"Review Timestamp (TST) calculation\n---------------------------------------------\nImplement same function as inside\nthe decoder/encoder lib\n${ messageTimestamp:minus( \n    ${ #{reference.timestamp}\n         :toDate(\"yyyy/MM/dd HH:mm:ss.SSS'Z'\", 'UTC')\n         :toNumber() }) }","zIndex":0,"width":352.0,"height":144.0,"style":{"font-size":"14px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"01ca5c84-e49f-3392-83b0-20af43d5db51","instanceIdentifier":"764c3f05-c793-1f54-8ca9-24bf4a021998","position":{"x":-232.0,"y":-680.0},"label":" \n                                           MAIN FLOW","zIndex":0,"width":664.0,"height":88.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"92a216cf-0bdc-389f-9544-2c345a96a49c","instanceIdentifier":"c0983da3-a897-1e20-ba47-102c999b5fbe","position":{"x":96.0,"y":400.0},"label":"             ERROR HANDLING","zIndex":0,"width":376.0,"height":192.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"07f28f30-0c87-3b6a-8d7b-da2933be6d09","instanceIdentifier":"7b59369a-9a26-1598-8e29-2b1164c39b5a","position":{"x":80.0,"y":-584.0},"label":"Using Kafka Topics","zIndex":0,"width":352.0,"height":48.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"579c25e6-5753-3781-8a8c-3871bccc7a78","instanceIdentifier":"9525326c-8924-1996-a53c-958588ce4dc1","position":{"x":1320.0,"y":392.0},"label":"Avoid special characters\n(transform \"&\" to \"&amp;\")","zIndex":0,"width":200.0,"height":48.0,"style":{"font-size":"16px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"516ea856-3335-388c-aac8-24bc9b11cbbe","instanceIdentifier":"24f63364-008e-166f-95cf-9024dc693831","position":{"x":-232.0,"y":-584.0},"label":"Using In/Out Ports","zIndex":0,"width":240.0,"height":48.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"3610ae4e-67da-31d5-a844-8a7cac42f5f0","instanceIdentifier":"ba84364b-14d8-1ba1-8a53-5b18fe2ec6c3","position":{"x":-536.0,"y":256.0},"label":"JSON (Specific for MDS)","zIndex":0,"width":352.0,"height":48.0,"style":{"font-size":"22px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"56ffa7c2-5891-3ac8-81a5-0e9f8dfaf909","instanceIdentifier":"80313f54-f4c8-1a18-8fad-0f71d0b2b7be","position":{"x":-680.0,"y":-184.0},"label":"             ERROR HANDLING","zIndex":0,"width":376.0,"height":192.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"1c931152-635a-39a4-ba8e-88d2c740b71a","instanceIdentifier":"8dd737b6-607d-1066-917f-7dbada701672","position":{"x":1592.0,"y":912.0},"label":"             ERROR HANDLING","zIndex":0,"width":376.0,"height":192.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"},{"identifier":"ce56245d-de79-33fe-aaec-a8ab1b96681f","instanceIdentifier":"dc32302e-b6b7-1e5d-a6e1-0e67eb41afd7","position":{"x":960.0,"y":1104.0},"label":"Script that replaces the 4 processors : \n1- Update latitude\n2- Update longitude\n3- Calcuate TST\n4- UpdateTimestamp","zIndex":0,"width":424.0,"height":88.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"a154cb19-3e97-32cc-8eb5-88fbadfa7333"}],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"v2x.integration.framework.context","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"edfa7040-902a-33a6-b170-c0d22e698d63"},{"identifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1","instanceIdentifier":"b5e8b5ba-8762-36fb-8c0b-2a68caf01e69","name":"Lifecycle Controller","comments":"","position":{"x":2416.0,"y":1056.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"d5107c38-2fe7-3451-99d2-56718a2e01f9","instanceIdentifier":"645b116d-f8d9-3c1a-b8e5-003d1b1105f8","name":"Calculate Geohash from Lat/Lon","comments":"","position":{"x":1960.0,"y":-1136.0},"type":"com.vodafone.v2x.processors.processors.geohash.GeohashCustomProcessor","bundle":{"group":"com.vodafone.v2x.processors","artifact":"nifi-geohash-nar","version":"1.3.5"},"properties":{"mode":"ENCODE","geohash-level":"${ geohash.precision }","geohash-format":"BASE32","latitude":"${geohash.latitude}","geohash":null,"longitude":"${geohash.longitude}"},"propertyDescriptors":{"mode":{"name":"mode","displayName":"Mode","identifiesControllerService":false,"sensitive":false},"geohash-level":{"name":"geohash-level","displayName":"Geohash Level","identifiesControllerService":false,"sensitive":false},"geohash-format":{"name":"geohash-format","displayName":"Geohash Format","identifiesControllerService":false,"sensitive":false},"latitude":{"name":"latitude","displayName":"Latitude","identifiesControllerService":false,"sensitive":false},"geohash":{"name":"geohash","displayName":"Geohash","identifiesControllerService":false,"sensitive":false},"longitude":{"name":"longitude","displayName":"Longitude","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"18dcaa8e-1725-38ac-bd8c-ba49581e4f0c","instanceIdentifier":"df1ce87e-2f5a-3995-ab41-ac362adc8221","name":"Route on Provider (Rules)","comments":"","position":{"x":1312.0,"y":-944.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Routing Strategy":"Route to Property name","filtered":"${#{integrator.filter.expression}:evaluateELString():equalsIgnoreCase('true')}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"filtered":{"name":"filtered","displayName":"filtered","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"69e733fd-2d96-35df-b71e-6a0c87732eaa","instanceIdentifier":"030c4e76-2154-3375-a7e8-343661f4b0d9","name":"GenerateFlowFile","comments":"","position":{"x":1288.0,"y":-1496.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"character-set":"UTF-8","metadata":"{\"message.identifier\":\"3f934463-484c-49d2-8c31-9ed382a99669\",\"message.type\":\"ivim\",\"message.format\":\"xml\",\"message.timestamp\":\"1666715500000\",\"message.contentIndex\":\"3\",\"customer.id\":\"public\",\"provider\":\"Commsignia\",\"reference.longitude\":\"-842836619\",\"reference.latitude\":\"340502453\",\"action\":\"UPDATE\",\"validation.duration\":\"\",\"validation.to\":\"1666719000000\",\"message.key\":\"Commsignia_ivim_3f934463-484c-49d2-8c31-9ed382a99669\",\"message.startTime\":1672674949757}","File Size":"0B","mime-type":null,"generate-ff-custom-text":"123123131231231","Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"metadata":{"name":"metadata","displayName":"metadata","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"52f77081-96fb-304a-b864-655bbc9e5abd","instanceIdentifier":"b98fc0ec-9655-3323-99de-994ea9de4b8d","name":"Route on Provider (Rules)","comments":"","position":{"x":712.0,"y":-88.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Routing Strategy":"Route to Property name","filtered":"${#{integrator.filter.expression}:evaluateELString():equalsIgnoreCase('true')}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"filtered":{"name":"filtered","displayName":"filtered","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"41457c98-45d9-3ebe-a176-19faf6ad3776","instanceIdentifier":"7f3a6e17-dae9-3d07-a8be-a2f550472a73","name":"Retain filtered messages","comments":"","position":{"x":712.0,"y":144.0},"type":"org.apache.nifi.processors.standard.LogMessage","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"log-message":null,"log-level":"info","log-prefix":null},"propertyDescriptors":{"log-message":{"name":"log-message","displayName":"Log message","identifiesControllerService":false,"sensitive":false},"log-level":{"name":"log-level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false},"log-prefix":{"name":"log-prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"01f5a335-73b2-3b09-a5d5-cb63c9dea4a1","instanceIdentifier":"74c7b363-f6b6-3108-88d8-31eb6c33a8f7","name":"Log Error Message","comments":"","position":{"x":2384.0,"y":560.0},"type":"org.apache.nifi.processors.standard.LogMessage","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"log-message":"Failure to publish to Kafka","log-level":"error","log-prefix":"Lifecycle Controller "},"propertyDescriptors":{"log-message":{"name":"log-message","displayName":"Log message","identifiesControllerService":false,"sensitive":false},"log-level":{"name":"log-level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false},"log-prefix":{"name":"log-prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"ded0398c-3f25-39cd-b168-03667797baf3","instanceIdentifier":"aa31f985-7eb2-3e08-b9b0-aad3178c1bb6","name":"Check Kafka Key and topic generation","comments":"","position":{"x":1968.0,"y":-744.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Routing Strategy":"Route to Property name","filterKafkakey":"${kafkaKey:contains(\"//\")}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"filterKafkakey":{"name":"filterKafkakey","displayName":"filterKafkakey","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"f499ed04-bcd9-3f9e-b188-13e8aa5e14eb","instanceIdentifier":"542407d5-9724-33c4-a4b3-8e73684ef5cb","name":"Send to Repeatable Topic","comments":"","position":{"x":1696.0,"y":560.0},"type":"org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6","bundle":{"group":"org.apache.nifi","artifact":"nifi-kafka-2-6-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"compression.type":"none","attribute-name-regex":"#{lifecycle.attributes.propagation}","bootstrap.servers":"#{kafka.brokers}","sasl.kerberos.principal":null,"sasl.kerberos.service.name":null,"kerberos-credentials-service":null,"kafka-key":null,"partition":null,"sasl.mechanism":"GSSAPI","max.block.ms":"5 sec","message-header-encoding":"UTF-8","kerberos-user-service":null,"message-demarcator":null,"transactional-id-prefix":null,"ack.wait.time":"5 secs","sasl.username":"#{kafka.security.username}","use-transactions":"true","acks":"all","security.protocol":"PLAINTEXT","ssl.context.service":null,"max.request.size":"1 MB","sasl.token.auth":"false","Failure Strategy":"Route to Failure","partitioner.class":"org.apache.kafka.clients.producer.internals.DefaultPartitioner","sasl.kerberos.keytab":null,"topic":"#{kafka.topic.lifecycle.repeatable.4sec}","sasl.password":"#{kafka.security.password}","key-attribute-encoding":"utf-8"},"propertyDescriptors":{"compression.type":{"name":"compression.type","displayName":"Compression Type","identifiesControllerService":false,"sensitive":false},"attribute-name-regex":{"name":"attribute-name-regex","displayName":"Attributes to Send as Headers (Regex)","identifiesControllerService":false,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.principal":{"name":"sasl.kerberos.principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"kafka-key":{"name":"kafka-key","displayName":"Kafka Key","identifiesControllerService":false,"sensitive":false},"partition":{"name":"partition","displayName":"Partition","identifiesControllerService":false,"sensitive":false},"sasl.mechanism":{"name":"sasl.mechanism","displayName":"SASL Mechanism","identifiesControllerService":false,"sensitive":false},"max.block.ms":{"name":"max.block.ms","displayName":"Max Metadata Wait Time","identifiesControllerService":false,"sensitive":false},"message-header-encoding":{"name":"message-header-encoding","displayName":"Message Header Encoding","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"message-demarcator":{"name":"message-demarcator","displayName":"Message Demarcator","identifiesControllerService":false,"sensitive":false},"transactional-id-prefix":{"name":"transactional-id-prefix","displayName":"Transactional Id Prefix","identifiesControllerService":false,"sensitive":false},"ack.wait.time":{"name":"ack.wait.time","displayName":"Acknowledgment Wait Time","identifiesControllerService":false,"sensitive":false},"sasl.username":{"name":"sasl.username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"use-transactions":{"name":"use-transactions","displayName":"Use Transactions","identifiesControllerService":false,"sensitive":false},"acks":{"name":"acks","displayName":"Delivery Guarantee","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"max.request.size":{"name":"max.request.size","displayName":"Max Request Size","identifiesControllerService":false,"sensitive":false},"sasl.token.auth":{"name":"sasl.token.auth","displayName":"Token Auth","identifiesControllerService":false,"sensitive":false},"Failure Strategy":{"name":"Failure Strategy","displayName":"Failure Strategy","identifiesControllerService":false,"sensitive":false},"partitioner.class":{"name":"partitioner.class","displayName":"Partitioner class","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.keytab":{"name":"sasl.kerberos.keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"topic":{"name":"topic","displayName":"Topic Name","identifiesControllerService":false,"sensitive":false},"sasl.password":{"name":"sasl.password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"key-attribute-encoding":{"name":"key-attribute-encoding","displayName":"Key Attribute Encoding","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"ba4e2803-18ac-3a2c-8754-1ea9389a73ff","instanceIdentifier":"8a93c07c-7735-39de-adff-f8756298e83d","name":"Publish to STEP Kafka topics (v2x.*)","comments":"","position":{"x":1696.0,"y":152.0},"type":"org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6","bundle":{"group":"org.apache.nifi","artifact":"nifi-kafka-2-6-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"compression.type":"none","attribute-name-regex":null,"bootstrap.servers":"#{kafka.brokers}","sasl.kerberos.principal":null,"sasl.kerberos.service.name":null,"kerberos-credentials-service":null,"kafka-key":null,"partition":null,"sasl.mechanism":"GSSAPI","max.block.ms":"5 sec","message-header-encoding":"UTF-8","kerberos-user-service":null,"message-demarcator":null,"transactional-id-prefix":null,"ack.wait.time":"5 secs","sasl.username":"#{kafka.security.username}","use-transactions":"true","acks":"all","security.protocol":"PLAINTEXT","ssl.context.service":null,"max.request.size":"1 MB","sasl.token.auth":"false","Failure Strategy":"Route to Failure","partitioner.class":"org.apache.kafka.clients.producer.internals.DefaultPartitioner","sasl.kerberos.keytab":null,"topic":"${kafkaTopic}","sasl.password":"#{kafka.security.password}","key-attribute-encoding":"utf-8"},"propertyDescriptors":{"compression.type":{"name":"compression.type","displayName":"Compression Type","identifiesControllerService":false,"sensitive":false},"attribute-name-regex":{"name":"attribute-name-regex","displayName":"Attributes to Send as Headers (Regex)","identifiesControllerService":false,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.principal":{"name":"sasl.kerberos.principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"kafka-key":{"name":"kafka-key","displayName":"Kafka Key","identifiesControllerService":false,"sensitive":false},"partition":{"name":"partition","displayName":"Partition","identifiesControllerService":false,"sensitive":false},"sasl.mechanism":{"name":"sasl.mechanism","displayName":"SASL Mechanism","identifiesControllerService":false,"sensitive":false},"max.block.ms":{"name":"max.block.ms","displayName":"Max Metadata Wait Time","identifiesControllerService":false,"sensitive":false},"message-header-encoding":{"name":"message-header-encoding","displayName":"Message Header Encoding","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"message-demarcator":{"name":"message-demarcator","displayName":"Message Demarcator","identifiesControllerService":false,"sensitive":false},"transactional-id-prefix":{"name":"transactional-id-prefix","displayName":"Transactional Id Prefix","identifiesControllerService":false,"sensitive":false},"ack.wait.time":{"name":"ack.wait.time","displayName":"Acknowledgment Wait Time","identifiesControllerService":false,"sensitive":false},"sasl.username":{"name":"sasl.username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"use-transactions":{"name":"use-transactions","displayName":"Use Transactions","identifiesControllerService":false,"sensitive":false},"acks":{"name":"acks","displayName":"Delivery Guarantee","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"max.request.size":{"name":"max.request.size","displayName":"Max Request Size","identifiesControllerService":false,"sensitive":false},"sasl.token.auth":{"name":"sasl.token.auth","displayName":"Token Auth","identifiesControllerService":false,"sensitive":false},"Failure Strategy":{"name":"Failure Strategy","displayName":"Failure Strategy","identifiesControllerService":false,"sensitive":false},"partitioner.class":{"name":"partitioner.class","displayName":"Partitioner class","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.keytab":{"name":"sasl.kerberos.keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"topic":{"name":"topic","displayName":"Topic Name","identifiesControllerService":false,"sensitive":false},"sasl.password":{"name":"sasl.password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"key-attribute-encoding":{"name":"key-attribute-encoding","displayName":"Key Attribute Encoding","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"f6e9d1e0-0172-371c-b233-98193bce3b27","instanceIdentifier":"0f4e149c-0521-3f8b-b2b3-89e1afba55c3","name":"Lifecycle Controller consumer","comments":"","position":{"x":1960.0,"y":-1496.0},"type":"org.apache.nifi.processors.kafka.pubsub.ConsumeKafka_2_6","bundle":{"group":"org.apache.nifi","artifact":"nifi-kafka-2-6-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"header-name-regex":null,"Commit Offsets":"true","group.id":"#{kafka.group.lifecycle}","bootstrap.servers":"#{kafka.brokers}","topic_type":"names","sasl.kerberos.principal":null,"sasl.kerberos.service.name":null,"kerberos-credentials-service":null,"max-uncommit-offset-wait":"1 secs","sasl.mechanism":"GSSAPI","honor-transactions":"true","kerberos-user-service":null,"message-header-encoding":"UTF-8","message-demarcator":null,"sasl.username":null,"max.poll.records":"10000","security.protocol":"PLAINTEXT","ssl.context.service":null,"sasl.token.auth":"false","sasl.kerberos.keytab":null,"Communications Timeout":"60 secs","topic":"#{kafka.topic.lifecycle}","separate-by-key":"false","key-attribute-encoding":"utf-8","auto.offset.reset":"latest"},"propertyDescriptors":{"header-name-regex":{"name":"header-name-regex","displayName":"Headers to Add as Attributes (Regex)","identifiesControllerService":false,"sensitive":false},"Commit Offsets":{"name":"Commit Offsets","displayName":"Commit Offsets","identifiesControllerService":false,"sensitive":false},"group.id":{"name":"group.id","displayName":"Group ID","identifiesControllerService":false,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"topic_type":{"name":"topic_type","displayName":"Topic Name Format","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.principal":{"name":"sasl.kerberos.principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"max-uncommit-offset-wait":{"name":"max-uncommit-offset-wait","displayName":"Max Uncommitted Time","identifiesControllerService":false,"sensitive":false},"sasl.mechanism":{"name":"sasl.mechanism","displayName":"SASL Mechanism","identifiesControllerService":false,"sensitive":false},"honor-transactions":{"name":"honor-transactions","displayName":"Honor Transactions","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"message-header-encoding":{"name":"message-header-encoding","displayName":"Message Header Encoding","identifiesControllerService":false,"sensitive":false},"message-demarcator":{"name":"message-demarcator","displayName":"Message Demarcator","identifiesControllerService":false,"sensitive":false},"sasl.username":{"name":"sasl.username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"max.poll.records":{"name":"max.poll.records","displayName":"Max Poll Records","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"sasl.token.auth":{"name":"sasl.token.auth","displayName":"Token Auth","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.keytab":{"name":"sasl.kerberos.keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false},"topic":{"name":"topic","displayName":"Topic Name(s)","identifiesControllerService":false,"sensitive":false},"separate-by-key":{"name":"separate-by-key","displayName":"Separate By Key","identifiesControllerService":false,"sensitive":false},"sasl.password":{"name":"sasl.password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"key-attribute-encoding":{"name":"key-attribute-encoding","displayName":"Key Attribute Encoding","identifiesControllerService":false,"sensitive":false},"auto.offset.reset":{"name":"auto.offset.reset","displayName":"Offset Reset","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"5ea34e83-4508-391e-b4bd-fd6ed3013876","instanceIdentifier":"565880b7-2016-3ec0-9675-f3dd3aedb84e","name":"Log Error Message","comments":"","position":{"x":2608.0,"y":-752.0},"type":"org.apache.nifi.processors.standard.LogMessage","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"log-message":"Kafka key generated incorrectly: ${kafkaKey}","log-level":"error","log-prefix":"Lifecycle Controller "},"propertyDescriptors":{"log-message":{"name":"log-message","displayName":"Log message","identifiesControllerService":false,"sensitive":false},"log-level":{"name":"log-level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false},"log-prefix":{"name":"log-prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"49609574-d244-3466-a0aa-12b4b3e2a40e","instanceIdentifier":"eedd7c9f-b805-3d8b-a83c-d00f1f80c106","name":"ConsumeKafka (every 4sec)","comments":"","position":{"x":712.0,"y":-344.0},"type":"org.apache.nifi.processors.kafka.pubsub.ConsumeKafka_2_6","bundle":{"group":"org.apache.nifi","artifact":"nifi-kafka-2-6-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"header-name-regex":null,"Commit Offsets":"true","group.id":"#{kafka.group.lifecycle}","bootstrap.servers":"#{kafka.brokers}","topic_type":"names","sasl.kerberos.principal":null,"sasl.kerberos.service.name":null,"kerberos-credentials-service":null,"max-uncommit-offset-wait":"1 secs","sasl.mechanism":"GSSAPI","honor-transactions":"true","kerberos-user-service":null,"message-header-encoding":"UTF-8","message-demarcator":null,"sasl.username":"#{kafka.security.username}","max.poll.records":"10000","security.protocol":"PLAINTEXT","ssl.context.service":null,"sasl.token.auth":"false","sasl.kerberos.keytab":null,"Communications Timeout":"60 secs","topic":"#{kafka.topic.lifecycle.repeatable.4sec}","separate-by-key":"false","sasl.password":"#{kafka.security.password}","key-attribute-encoding":"utf-8","auto.offset.reset":"latest"},"propertyDescriptors":{"header-name-regex":{"name":"header-name-regex","displayName":"Headers to Add as Attributes (Regex)","identifiesControllerService":false,"sensitive":false},"Commit Offsets":{"name":"Commit Offsets","displayName":"Commit Offsets","identifiesControllerService":false,"sensitive":false},"group.id":{"name":"group.id","displayName":"Group ID","identifiesControllerService":false,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"topic_type":{"name":"topic_type","displayName":"Topic Name Format","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.principal":{"name":"sasl.kerberos.principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"max-uncommit-offset-wait":{"name":"max-uncommit-offset-wait","displayName":"Max Uncommitted Time","identifiesControllerService":false,"sensitive":false},"sasl.mechanism":{"name":"sasl.mechanism","displayName":"SASL Mechanism","identifiesControllerService":false,"sensitive":false},"honor-transactions":{"name":"honor-transactions","displayName":"Honor Transactions","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"message-header-encoding":{"name":"message-header-encoding","displayName":"Message Header Encoding","identifiesControllerService":false,"sensitive":false},"message-demarcator":{"name":"message-demarcator","displayName":"Message Demarcator","identifiesControllerService":false,"sensitive":false},"sasl.username":{"name":"sasl.username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"max.poll.records":{"name":"max.poll.records","displayName":"Max Poll Records","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"sasl.token.auth":{"name":"sasl.token.auth","displayName":"Token Auth","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.keytab":{"name":"sasl.kerberos.keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false},"topic":{"name":"topic","displayName":"Topic Name(s)","identifiesControllerService":false,"sensitive":false},"separate-by-key":{"name":"separate-by-key","displayName":"Separate By Key","identifiesControllerService":false,"sensitive":false},"sasl.password":{"name":"sasl.password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"key-attribute-encoding":{"name":"key-attribute-encoding","displayName":"Key Attribute Encoding","identifiesControllerService":false,"sensitive":false},"auto.offset.reset":{"name":"auto.offset.reset","displayName":"Offset Reset","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"4 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"51bb2c89-d22a-3982-b497-ac1b5cdfaee0","instanceIdentifier":"37a9bfe1-f247-31a9-8d0b-cb6680f33bb7","name":"Log Error Message","comments":"","position":{"x":2608.0,"y":-1136.0},"type":"org.apache.nifi.processors.standard.LogMessage","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"log-message":"Failed to calculate geohash for Latitude ${geohash.latitude} and longitude ${geohash.longitude}","log-level":"error","log-prefix":"Lifecycle Controller "},"propertyDescriptors":{"log-message":{"name":"log-message","displayName":"Log message","identifiesControllerService":false,"sensitive":false},"log-level":{"name":"log-level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false},"log-prefix":{"name":"log-prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"32f2c0f6-ad01-3463-a108-b7626ca68481","instanceIdentifier":"b6be4cef-9e04-3665-a769-c6f692ab8771","name":"Retrieve relevant values from Metadata ","comments":"","position":{"x":1960.0,"y":-1312.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"messageKey":"${metadata:jsonPath(\"$['message.key']\")}","geohash.latitude":"${metadata:jsonPath(\"$['reference.latitude']\"):toDecimal():divide(#{geohash.divider})}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","geohash.precision":"${ metadata:jsonPath(\"$['message.geohash.precision']\"):isEmpty():not():ifElse(${metadata:jsonPath(\"$['message.geohash.precision']\")},#{geohash.precision}) }","Stateful Variables Initial Value":null,"flow.startTime":"${metadata:jsonPath(\"$['message.startTime']\")}","Delete Attributes Expression":null,"messageType":"${metadata:jsonPath(\"$['message.type']\")}","provider":"${metadata:jsonPath(\"$['provider']\")}","flow.duration":"${now():toNumber():minus(${metadata:jsonPath(\"$['message.startTime']\")})}","customerId":"${metadata:jsonPath(\"$['customer.id']\")}","action":"${metadata:jsonPath(\"$['action']\")}","message.key":"${metadata:jsonPath(\"$['message.key']\")}","flow.endTime":"${now():toNumber()}","messageTimestamp":"${metadata:jsonPath(\"$['message.timestamp']\")}","validTo":"${metadata:jsonPath(\"$['validation.to']\")}","geohash.longitude":"${metadata:jsonPath(\"$['reference.longitude']\"):toDecimal():divide(#{geohash.divider})}"},"propertyDescriptors":{"messageKey":{"name":"messageKey","displayName":"messageKey","identifiesControllerService":false,"sensitive":false},"geohash.latitude":{"name":"geohash.latitude","displayName":"geohash.latitude","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"geohash.precision":{"name":"geohash.precision","displayName":"geohash.precision","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"flow.startTime":{"name":"flow.startTime","displayName":"flow.startTime","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"messageType":{"name":"messageType","displayName":"messageType","identifiesControllerService":false,"sensitive":false},"provider":{"name":"provider","displayName":"provider","identifiesControllerService":false,"sensitive":false},"flow.duration":{"name":"flow.duration","displayName":"flow.duration","identifiesControllerService":false,"sensitive":false},"customerId":{"name":"customerId","displayName":"customerId","identifiesControllerService":false,"sensitive":false},"action":{"name":"action","displayName":"action","identifiesControllerService":false,"sensitive":false},"message.key":{"name":"message.key","displayName":"message.key","identifiesControllerService":false,"sensitive":false},"flow.endTime":{"name":"flow.endTime","displayName":"flow.endTime","identifiesControllerService":false,"sensitive":false},"messageTimestamp":{"name":"messageTimestamp","displayName":"messageTimestamp","identifiesControllerService":false,"sensitive":false},"validTo":{"name":"validTo","displayName":"validTo","identifiesControllerService":false,"sensitive":false},"geohash.longitude":{"name":"geohash.longitude","displayName":"geohash.longitude","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"40b3ae06-f5b0-397c-8515-6e5834cf2b5f","instanceIdentifier":"94110dc7-1bc0-32ca-ba20-ea6ff67d7089","name":"Define the Kafka Key and Topic","comments":"","position":{"x":1968.0,"y":-936.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"kafkaKey":"${#{kafka.pattern.key}:replaceFirst('#1', ${messageType:toLower()}):replaceFirst('#2', ${customerId}):replaceFirst('#3', ${geohash.precision}):replaceFirst('#4', ${geohash:replaceAll('(.)','/$1')})}","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","kafkaTopic":"${#{kafka.pattern.topic}:replaceFirst('#1', ${messageType:toLower()}):replaceFirst('#2', ${customerId})}","Stateful Variables Initial Value":null},"propertyDescriptors":{"kafkaKey":{"name":"kafkaKey","displayName":"kafkaKey","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"kafkaTopic":{"name":"kafkaTopic","displayName":"kafkaTopic","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"1c26c0d7-cf53-3af4-956a-db5b723fce43","instanceIdentifier":"49d809dd-1ac2-3a81-bd09-6f3044e0253c","name":"Is Repeatable message?","comments":"","position":{"x":1968.0,"y":-88.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Routing Strategy":"Route to Property name","repeatable":"${validTo:isEmpty():not()}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"repeatable":{"name":"repeatable","displayName":"repeatable","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"f26c2d70-7baa-3736-9944-0a2fe4a3e15b","instanceIdentifier":"2121e489-6c0d-3e45-8aaf-6de3f02ad7dd","name":"Retain filtered messages","comments":"","position":{"x":1312.0,"y":-744.0},"type":"org.apache.nifi.processors.standard.LogMessage","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"log-message":null,"log-level":"info","log-prefix":null},"propertyDescriptors":{"log-message":{"name":"log-message","displayName":"Log message","identifiesControllerService":false,"sensitive":false},"log-level":{"name":"log-level","displayName":"Log Level","identifiesControllerService":false,"sensitive":false},"log-prefix":{"name":"log-prefix","displayName":"Log prefix","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"d2f382ba-04df-33d1-a624-a32fe96f5198","instanceIdentifier":"a71fe045-11b2-3433-b45b-df71bf6893b9","name":"Collect Expired messages","comments":"","position":{"x":1336.0,"y":-344.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"4c2a8b9d-c0f6-3557-a625-2a956749acd9","instanceIdentifier":"ddf3bbd8-e763-3e63-87fe-6b92cd12a7bb","name":"Check Validity","comments":"","position":{"x":1336.0,"y":-88.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"valid":"${validTo:ge(${now():toNumber()})}","Routing Strategy":"Route to Property name"},"propertyDescriptors":{"valid":{"name":"valid","displayName":"valid","identifiesControllerService":false,"sensitive":false},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"d6734faf-f2f8-3052-bfc7-cb71a50e5db9","instanceIdentifier":"28dda2fd-9471-3969-96f2-2f3b7a2862f4","name":"Publish to STEP Kafka topics (v2x.*)","comments":"","position":{"x":1336.0,"y":152.0},"type":"org.apache.nifi.processors.kafka.pubsub.PublishKafka_2_6","bundle":{"group":"org.apache.nifi","artifact":"nifi-kafka-2-6-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"compression.type":"none","attribute-name-regex":null,"bootstrap.servers":"#{kafka.brokers}","sasl.kerberos.principal":null,"sasl.kerberos.service.name":null,"kerberos-credentials-service":null,"kafka-key":null,"partition":null,"sasl.mechanism":"GSSAPI","max.block.ms":"5 sec","message-header-encoding":"UTF-8","kerberos-user-service":null,"message-demarcator":null,"transactional-id-prefix":null,"ack.wait.time":"5 secs","sasl.username":"#{kafka.security.username}","use-transactions":"true","acks":"all","security.protocol":"PLAINTEXT","ssl.context.service":null,"max.request.size":"1 MB","sasl.token.auth":"false","Failure Strategy":"Route to Failure","partitioner.class":"org.apache.kafka.clients.producer.internals.DefaultPartitioner","sasl.kerberos.keytab":null,"topic":"${kafkaTopic}","sasl.password":"#{kafka.security.password}","key-attribute-encoding":"utf-8"},"propertyDescriptors":{"compression.type":{"name":"compression.type","displayName":"Compression Type","identifiesControllerService":false,"sensitive":false},"attribute-name-regex":{"name":"attribute-name-regex","displayName":"Attributes to Send as Headers (Regex)","identifiesControllerService":false,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.principal":{"name":"sasl.kerberos.principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"kafka-key":{"name":"kafka-key","displayName":"Kafka Key","identifiesControllerService":false,"sensitive":false},"partition":{"name":"partition","displayName":"Partition","identifiesControllerService":false,"sensitive":false},"sasl.mechanism":{"name":"sasl.mechanism","displayName":"SASL Mechanism","identifiesControllerService":false,"sensitive":false},"max.block.ms":{"name":"max.block.ms","displayName":"Max Metadata Wait Time","identifiesControllerService":false,"sensitive":false},"message-header-encoding":{"name":"message-header-encoding","displayName":"Message Header Encoding","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"message-demarcator":{"name":"message-demarcator","displayName":"Message Demarcator","identifiesControllerService":false,"sensitive":false},"transactional-id-prefix":{"name":"transactional-id-prefix","displayName":"Transactional Id Prefix","identifiesControllerService":false,"sensitive":false},"ack.wait.time":{"name":"ack.wait.time","displayName":"Acknowledgment Wait Time","identifiesControllerService":false,"sensitive":false},"sasl.username":{"name":"sasl.username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"use-transactions":{"name":"use-transactions","displayName":"Use Transactions","identifiesControllerService":false,"sensitive":false},"acks":{"name":"acks","displayName":"Delivery Guarantee","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"max.request.size":{"name":"max.request.size","displayName":"Max Request Size","identifiesControllerService":false,"sensitive":false},"sasl.token.auth":{"name":"sasl.token.auth","displayName":"Token Auth","identifiesControllerService":false,"sensitive":false},"Failure Strategy":{"name":"Failure Strategy","displayName":"Failure Strategy","identifiesControllerService":false,"sensitive":false},"partitioner.class":{"name":"partitioner.class","displayName":"Partitioner class","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.keytab":{"name":"sasl.kerberos.keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"topic":{"name":"topic","displayName":"Topic Name","identifiesControllerService":false,"sensitive":false},"sasl.password":{"name":"sasl.password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"key-attribute-encoding":{"name":"key-attribute-encoding","displayName":"Key Attribute Encoding","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"DISABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"}],"inputPorts":[{"identifier":"720dd3c8-6f98-3d6c-b598-5d7a14993cf0","instanceIdentifier":"3a151173-e7fa-3c4e-82e8-75641079ebbf","name":"input","comments":"","position":{"x":1704.0,"y":-1496.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"DISABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"}],"outputPorts":[],"connections":[{"identifier":"d1059299-a931-392e-84ba-35735d4be37b","instanceIdentifier":"42aa3214-a043-33fe-9a34-5a1c5ae3542f","name":"Not Repeatable","source":{"id":"1c26c0d7-cf53-3af4-956a-db5b723fce43","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Is Repeatable message?","comments":"","instanceIdentifier":"49d809dd-1ac2-3a81-bd09-6f3044e0253c"},"destination":{"id":"ba4e2803-18ac-3a2c-8754-1ea9389a73ff","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Publish to STEP Kafka topics (v2x.*)","comments":"","instanceIdentifier":"8a93c07c-7735-39de-adff-f8756298e83d"},"labelIndex":0,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":2147.929,"y":77.38147},{"x":2147.929,"y":213.38147}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"49b2fda1-8611-3817-ac75-296350868a35","instanceIdentifier":"c17d3f68-11ff-369a-829d-41c7d718568c","name":"","source":{"id":"f26c2d70-7baa-3736-9944-0a2fe4a3e15b","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Retain filtered messages","comments":"","instanceIdentifier":"2121e489-6c0d-3e45-8aaf-6de3f02ad7dd"},"destination":{"id":"ded0398c-3f25-39cd-b168-03667797baf3","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Check Kafka Key and topic generation","comments":"","instanceIdentifier":"aa31f985-7eb2-3e08-b9b0-aad3178c1bb6"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"90eeaf14-224e-325a-82c6-8374bf1ab93e","instanceIdentifier":"98d482cd-8873-3069-9d4a-804037769420","name":"","source":{"id":"69e733fd-2d96-35df-b71e-6a0c87732eaa","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"GenerateFlowFile","comments":"","instanceIdentifier":"030c4e76-2154-3375-a7e8-343661f4b0d9"},"destination":{"id":"32f2c0f6-ad01-3463-a108-b7626ca68481","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Retrieve relevant values from Metadata ","comments":"","instanceIdentifier":"b6be4cef-9e04-3665-a769-c6f692ab8771"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1464.0,"y":-1256.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"98231cd3-1587-3226-83fa-8794ac78a858","instanceIdentifier":"1bc3df64-0194-1000-0000-000009174f2d","name":"","source":{"id":"d6734faf-f2f8-3052-bfc7-cb71a50e5db9","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Publish to STEP Kafka topics (v2x.*)","comments":"","instanceIdentifier":"28dda2fd-9471-3969-96f2-2f3b7a2862f4"},"destination":{"id":"f499ed04-bcd9-3f9e-b188-13e8aa5e14eb","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Send to Repeatable Topic","comments":"","instanceIdentifier":"542407d5-9724-33c4-a4b3-8e73684ef5cb"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1515.929,"y":621.3815}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"2f117e92-4e7b-36dd-921b-251f3eaa85db","instanceIdentifier":"6085218d-58a9-361c-b2fb-165971c49c37","name":"","source":{"id":"18dcaa8e-1725-38ac-bd8c-ba49581e4f0c","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Route on Provider (Rules)","comments":"","instanceIdentifier":"df1ce87e-2f5a-3995-ab41-ac362adc8221"},"destination":{"id":"f26c2d70-7baa-3736-9944-0a2fe4a3e15b","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Retain filtered messages","comments":"","instanceIdentifier":"2121e489-6c0d-3e45-8aaf-6de3f02ad7dd"},"labelIndex":1,"zIndex":0,"selectedRelationships":["filtered"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"df808ca7-44f6-314f-b696-ce13ec1ab99f","instanceIdentifier":"522db5b3-f360-3816-8d72-1af688f7184a","name":"","source":{"id":"52f77081-96fb-304a-b864-655bbc9e5abd","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Route on Provider (Rules)","comments":"","instanceIdentifier":"b98fc0ec-9655-3323-99de-994ea9de4b8d"},"destination":{"id":"41457c98-45d9-3ebe-a176-19faf6ad3776","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Retain filtered messages","comments":"","instanceIdentifier":"7f3a6e17-dae9-3d07-a8be-a2f550472a73"},"labelIndex":1,"zIndex":0,"selectedRelationships":["filtered"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"555eed54-24e0-3d94-8b7a-6a81c6184fda","instanceIdentifier":"c062c544-8310-32be-9876-37b72bc78a34","name":"","source":{"id":"ded0398c-3f25-39cd-b168-03667797baf3","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Check Kafka Key and topic generation","comments":"","instanceIdentifier":"aa31f985-7eb2-3e08-b9b0-aad3178c1bb6"},"destination":{"id":"5ea34e83-4508-391e-b4bd-fd6ed3013876","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Log Error Message","comments":"","instanceIdentifier":"565880b7-2016-3ec0-9675-f3dd3aedb84e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["filterKafkakey"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"efbfc0cc-713a-3c82-99c8-2e92afe443ec","instanceIdentifier":"5b7dc783-f21f-3c56-aa6f-e1b573006fe7","name":"","source":{"id":"49609574-d244-3466-a0aa-12b4b3e2a40e","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"ConsumeKafka (every 4sec)","comments":"","instanceIdentifier":"eedd7c9f-b805-3d8b-a83c-d00f1f80c106"},"destination":{"id":"52f77081-96fb-304a-b864-655bbc9e5abd","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Route on Provider (Rules)","comments":"","instanceIdentifier":"b98fc0ec-9655-3323-99de-994ea9de4b8d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"8d3643c1-e357-3c07-a08c-a921d8f6667f","instanceIdentifier":"29d5afa5-5bb6-3fc4-8267-08998e58f1bb","name":"","source":{"id":"f499ed04-bcd9-3f9e-b188-13e8aa5e14eb","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Send to Repeatable Topic","comments":"","instanceIdentifier":"542407d5-9724-33c4-a4b3-8e73684ef5cb"},"destination":{"id":"01f5a335-73b2-3b09-a5d5-cb63c9dea4a1","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Log Error Message","comments":"","instanceIdentifier":"74c7b363-f6b6-3108-88d8-31eb6c33a8f7"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"0ef4b1ba-26e8-3009-86fa-72b1807804de","instanceIdentifier":"c6ba0e7b-2767-39c1-854e-f8fdf15cf224","name":"","source":{"id":"40b3ae06-f5b0-397c-8515-6e5834cf2b5f","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Define the Kafka Key and Topic","comments":"","instanceIdentifier":"94110dc7-1bc0-32ca-ba20-ea6ff67d7089"},"destination":{"id":"18dcaa8e-1725-38ac-bd8c-ba49581e4f0c","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Route on Provider (Rules)","comments":"","instanceIdentifier":"df1ce87e-2f5a-3995-ab41-ac362adc8221"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"8976b4ad-41e7-3320-b6d7-96845bdee22b","instanceIdentifier":"118780aa-99d0-306b-b40a-ad5fd9df9362","name":"","source":{"id":"ba4e2803-18ac-3a2c-8754-1ea9389a73ff","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Publish to STEP Kafka topics (v2x.*)","comments":"","instanceIdentifier":"8a93c07c-7735-39de-adff-f8756298e83d"},"destination":{"id":"01f5a335-73b2-3b09-a5d5-cb63c9dea4a1","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Log Error Message","comments":"","instanceIdentifier":"74c7b363-f6b6-3108-88d8-31eb6c33a8f7"},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1875.929,"y":341.38147},{"x":2563.929,"y":341.38147}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"b596f6d5-dd8c-3904-ba07-4ec25e65dd24","instanceIdentifier":"b719bdd8-76ab-3962-bc86-1159957fb25e","name":"","source":{"id":"720dd3c8-6f98-3d6c-b598-5d7a14993cf0","type":"INPUT_PORT","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"input","comments":"","instanceIdentifier":"3a151173-e7fa-3c4e-82e8-75641079ebbf"},"destination":{"id":"32f2c0f6-ad01-3463-a108-b7626ca68481","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Retrieve relevant values from Metadata ","comments":"","instanceIdentifier":"b6be4cef-9e04-3665-a769-c6f692ab8771"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1824.0,"y":-1392.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"871754b1-9cf5-372e-9185-b567883819f7","instanceIdentifier":"95c08466-6375-3b99-a686-0f726bf07783","name":"","source":{"id":"18dcaa8e-1725-38ac-bd8c-ba49581e4f0c","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Route on Provider (Rules)","comments":"","instanceIdentifier":"df1ce87e-2f5a-3995-ab41-ac362adc8221"},"destination":{"id":"ded0398c-3f25-39cd-b168-03667797baf3","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Check Kafka Key and topic generation","comments":"","instanceIdentifier":"aa31f985-7eb2-3e08-b9b0-aad3178c1bb6"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"1019e745-3f86-30ed-9fcd-5de11e6999a6","instanceIdentifier":"d5d10075-618e-3b9c-873f-132afaa4266a","name":"","source":{"id":"d5107c38-2fe7-3451-99d2-56718a2e01f9","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Calculate Geohash from Lat/Lon","comments":"","instanceIdentifier":"645b116d-f8d9-3c1a-b8e5-003d1b1105f8"},"destination":{"id":"51bb2c89-d22a-3982-b497-ac1b5cdfaee0","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Log Error Message","comments":"","instanceIdentifier":"37a9bfe1-f247-31a9-8d0b-cb6680f33bb7"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"913c6a1e-2326-38ac-90b5-5b59871796b6","instanceIdentifier":"09110638-0194-1000-ffff-ffffec025953","name":"","source":{"id":"ded0398c-3f25-39cd-b168-03667797baf3","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Check Kafka Key and topic generation","comments":"","instanceIdentifier":"aa31f985-7eb2-3e08-b9b0-aad3178c1bb6"},"destination":{"id":"1c26c0d7-cf53-3af4-956a-db5b723fce43","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Is Repeatable message?","comments":"","instanceIdentifier":"49d809dd-1ac2-3a81-bd09-6f3044e0253c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"fec4e3c9-68b4-3532-be85-7e26670d9263","instanceIdentifier":"d73ec2bb-1a89-33ef-94b0-fe1be77eb72e","name":"","source":{"id":"52f77081-96fb-304a-b864-655bbc9e5abd","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Route on Provider (Rules)","comments":"","instanceIdentifier":"b98fc0ec-9655-3323-99de-994ea9de4b8d"},"destination":{"id":"4c2a8b9d-c0f6-3557-a625-2a956749acd9","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Check Validity","comments":"","instanceIdentifier":"ddf3bbd8-e763-3e63-87fe-6b92cd12a7bb"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"f0f82791-4f55-3913-965f-1d8a3b75450a","instanceIdentifier":"4a045859-7728-33ea-8f97-41f3dee50564","name":"","source":{"id":"d5107c38-2fe7-3451-99d2-56718a2e01f9","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Calculate Geohash from Lat/Lon","comments":"","instanceIdentifier":"645b116d-f8d9-3c1a-b8e5-003d1b1105f8"},"destination":{"id":"40b3ae06-f5b0-397c-8515-6e5834cf2b5f","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Define the Kafka Key and Topic","comments":"","instanceIdentifier":"94110dc7-1bc0-32ca-ba20-ea6ff67d7089"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"d5f06b39-8a16-369d-9afc-7d13143813a8","instanceIdentifier":"ff09404f-7a2a-3513-bf66-e799ae78c1ba","name":"","source":{"id":"41457c98-45d9-3ebe-a176-19faf6ad3776","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Retain filtered messages","comments":"","instanceIdentifier":"7f3a6e17-dae9-3d07-a8be-a2f550472a73"},"destination":{"id":"4c2a8b9d-c0f6-3557-a625-2a956749acd9","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Check Validity","comments":"","instanceIdentifier":"ddf3bbd8-e763-3e63-87fe-6b92cd12a7bb"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"7a673441-64a1-3cce-b4d4-9915724e5347","instanceIdentifier":"814df991-3b39-36a6-b61e-812c52efa331","name":"lifecycle queue","source":{"id":"f6e9d1e0-0172-371c-b233-98193bce3b27","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Lifecycle Controller consumer","comments":"","instanceIdentifier":"0f4e149c-0521-3f8b-b2b3-89e1afba55c3"},"destination":{"id":"32f2c0f6-ad01-3463-a108-b7626ca68481","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Retrieve relevant values from Metadata ","comments":"","instanceIdentifier":"b6be4cef-9e04-3665-a769-c6f692ab8771"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"9c99a422-b413-3da3-a093-0bcb75fcdbcd","instanceIdentifier":"3bdd3028-19ec-3b43-85dc-a0584acc1a4f","name":"","source":{"id":"4c2a8b9d-c0f6-3557-a625-2a956749acd9","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Check Validity","comments":"","instanceIdentifier":"ddf3bbd8-e763-3e63-87fe-6b92cd12a7bb"},"destination":{"id":"d2f382ba-04df-33d1-a624-a32fe96f5198","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Collect Expired messages","comments":"","instanceIdentifier":"a71fe045-11b2-3433-b45b-df71bf6893b9"},"labelIndex":0,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1515.929,"y":-170.61853}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"22449b7c-bbd4-32fb-858d-7dec51aefd38","instanceIdentifier":"de2a0577-85bd-3307-b6bc-b76747ffab04","name":"","source":{"id":"1c26c0d7-cf53-3af4-956a-db5b723fce43","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Is Repeatable message?","comments":"","instanceIdentifier":"49d809dd-1ac2-3a81-bd09-6f3044e0253c"},"destination":{"id":"4c2a8b9d-c0f6-3557-a625-2a956749acd9","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Check Validity","comments":"","instanceIdentifier":"ddf3bbd8-e763-3e63-87fe-6b92cd12a7bb"},"labelIndex":1,"zIndex":0,"selectedRelationships":["repeatable"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"e27066ba-c289-3da2-840c-1b623dd6be2f","instanceIdentifier":"8fc7c9b2-597a-3bdd-b665-a4759e8e57d9","name":"","source":{"id":"4c2a8b9d-c0f6-3557-a625-2a956749acd9","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Check Validity","comments":"","instanceIdentifier":"ddf3bbd8-e763-3e63-87fe-6b92cd12a7bb"},"destination":{"id":"d6734faf-f2f8-3052-bfc7-cb71a50e5db9","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Publish to STEP Kafka topics (v2x.*)","comments":"","instanceIdentifier":"28dda2fd-9471-3969-96f2-2f3b7a2862f4"},"labelIndex":0,"zIndex":0,"selectedRelationships":["valid"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1515.929,"y":69.38147}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"6bbff184-e632-3e04-952d-aad469ffa01d","instanceIdentifier":"a5f1fe39-9bda-329c-98cf-db79c628ce0a","name":"","source":{"id":"32f2c0f6-ad01-3463-a108-b7626ca68481","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Retrieve relevant values from Metadata ","comments":"","instanceIdentifier":"b6be4cef-9e04-3665-a769-c6f692ab8771"},"destination":{"id":"d5107c38-2fe7-3451-99d2-56718a2e01f9","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Calculate Geohash from Lat/Lon","comments":"","instanceIdentifier":"645b116d-f8d9-3c1a-b8e5-003d1b1105f8"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"5fa4213e-05c5-39c6-b42d-5d98cadfd7b4","instanceIdentifier":"e1039af5-a96d-3f8a-a416-f5e14386ac6d","name":"","source":{"id":"d6734faf-f2f8-3052-bfc7-cb71a50e5db9","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Publish to STEP Kafka topics (v2x.*)","comments":"","instanceIdentifier":"28dda2fd-9471-3969-96f2-2f3b7a2862f4"},"destination":{"id":"01f5a335-73b2-3b09-a5d5-cb63c9dea4a1","type":"PROCESSOR","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"Log Error Message","comments":"","instanceIdentifier":"74c7b363-f6b6-3108-88d8-31eb6c33a8f7"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1643.929,"y":405.38147},{"x":1875.929,"y":405.38147},{"x":2563.929,"y":405.38147}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"}],"labels":[{"identifier":"4ba51472-7bb2-36ca-9952-e22e4fbe5b6a","instanceIdentifier":"1300bf48-5a9c-308d-93ba-9649191eaf82","position":{"x":1336.0,"y":112.0},"label":"                                          «« Publish to Kafka »»","zIndex":0,"width":704.0,"height":32.0,"style":{"font-size":"20px"},"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"a6191019-079b-329a-bbc6-bd68786ea242","instanceIdentifier":"5b54336a-f94f-3ce3-a1dd-e960c15062b3","position":{"x":2336.0,"y":-1544.0},"label":"LifeCycle Controller:\n-----------------------------------\n- required metadata\n   - action (NEW, UPDATE, CANCEL)\n   - message.type\n   - message.key\n   - reference.latitude & reference.longitude\n   - validation.to (for repeatable messages)\n   - geohash (ON HOLD - currently being calculated inside this flow)\n  \nCache:\n--------------------\nuse message.key (provider + message type + identifier) for cache key\nuse action for cache value\n  \nCalculations:\n---------------------\n- Kafka topic (destination) - based on message.type and customer.id\n   v2x.cam.public.outgoing\n- Kafka key - calculated based on message.type (e.g. ivim), customer.id (e.g. public) and geohash (gcemadew)\n   v2x/cam/public/g8/g/h/e/r/s/t...\n- cadence/frequency (NOT NEEDED) - assuming always 1sec","zIndex":0,"width":624.0,"height":328.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"5314edc7-37a6-3106-903c-5448cc039f8a","instanceIdentifier":"2528fbf8-a653-3e22-97d9-0a8448451969","position":{"x":2592.0,"y":-792.0},"label":"                    Error Logging","zIndex":0,"width":384.0,"height":184.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"bce176ad-9a97-3229-9986-b2800f255dbe","instanceIdentifier":"f5e77a3d-fec9-3cb9-b7de-ffdf8819b2ef","position":{"x":1336.0,"y":-384.0},"label":"Discard expired messages","zIndex":0,"width":352.0,"height":32.0,"style":{"font-size":"16px"},"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"ae0e25c8-c2af-3748-93bc-6763dc785793","instanceIdentifier":"765536b8-1796-39d2-b168-672c4316b20c","position":{"x":712.0,"y":-400.0},"label":"      Publishing Loop Consumer","zIndex":0,"width":352.0,"height":48.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"53d35278-6cbb-377e-9230-892bb9a37591","instanceIdentifier":"bad0d5ea-78f5-3cfb-94f2-01d936614411","position":{"x":1288.0,"y":-1544.0},"label":"TESTING","zIndex":0,"width":352.0,"height":40.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"da6ab446-e84c-39f1-b4b5-9519c1101beb","instanceIdentifier":"83c42599-078a-3108-87d9-756abc91aa40","position":{"x":1696.0,"y":512.0},"label":"            START OF REPETITION CYCLE","zIndex":0,"width":352.0,"height":40.0,"style":{"font-size":"18px"},"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"e820158c-1493-39df-b6df-2edbb7eba43f","instanceIdentifier":"57323190-b9f7-3e44-8f55-a94726d32269","position":{"x":696.0,"y":-128.0},"label":"For Filtering....","zIndex":0,"width":392.0,"height":416.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"cb4e6c0c-42b3-367a-8c2c-b120d9aa09c1","instanceIdentifier":"5a83b23b-3c7b-31bf-bc25-4b22fb8f246f","position":{"x":2368.0,"y":512.0},"label":"                    Error Logging","zIndex":0,"width":384.0,"height":192.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"f69de079-bbad-3234-bd6d-9ca36f7e2e7e","instanceIdentifier":"9b2c1ed0-5995-3e1f-9859-95fe2b8329d0","position":{"x":2592.0,"y":-1184.0},"label":"                    Error Logging","zIndex":0,"width":384.0,"height":184.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"a401c5cc-8dbc-30d1-b26f-16ec06ec89d0","instanceIdentifier":"42b46fbc-6297-301d-88ca-07dc5d3da7fb","position":{"x":1336.0,"y":-128.0},"label":"          Check message validity","zIndex":0,"width":352.0,"height":32.0,"style":{"font-size":"20px"},"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"71f877b6-a5d6-3b00-bf68-2161164c0c34","instanceIdentifier":"8b6faeae-3126-3fbd-88fd-4747fbf4fa01","position":{"x":1296.0,"y":-992.0},"label":"                                        For Filtering...","zIndex":0,"width":648.0,"height":392.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"},{"identifier":"648b5ba5-bd21-3472-9dcc-6deab2a411e4","instanceIdentifier":"77d333ca-ebab-3505-a864-8fa6dedaf198","position":{"x":1704.0,"y":-1544.0},"label":"                                        MAIN FLOW","zIndex":0,"width":608.0,"height":40.0,"style":{"font-size":"24px"},"componentType":"LABEL","groupIdentifier":"89140ab9-9a64-3989-8149-ddfe4f2417d1"}],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"v2x.integration.framework.context","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","groupIdentifier":"edfa7040-902a-33a6-b170-c0d22e698d63"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"7ec75b38-e737-3060-8767-32136753785e","instanceIdentifier":"6f783448-6d65-1291-ffff-ffff93be5a8e","name":"","source":{"id":"a917b23d-f90b-309d-940a-1d8efdc607ea","type":"OUTPUT_PORT","groupId":"911e672d-df67-3f8b-8891-05951ab150df","name":"inbound msg","comments":"","instanceIdentifier":"6f78342e-6d65-1291-87d7-2c30d98c1c8b"},"destination":{"id":"c7fdca7d-597a-389a-aac6-ca7962e5a3e4","type":"INPUT_PORT","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"input","comments":"","instanceIdentifier":"4e533aee-6adb-1901-a836-1e8ddccd7a77"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"edfa7040-902a-33a6-b170-c0d22e698d63"},{"identifier":"4e14da73-9b7c-3ee0-ab7b-85a28347350e","instanceIdentifier":"089cce7d-0194-1000-ffff-ffffa0f244b8","name":"","source":{"id":"04cdb35f-f10f-36fa-8b42-d6bf4b7410ea","type":"OUTPUT_PORT","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"for processing (from encoding)","comments":"","instanceIdentifier":"f95835ac-f6a8-1cc3-bdcd-4ffb18daad13"},"destination":{"id":"720dd3c8-6f98-3d6c-b598-5d7a14993cf0","type":"INPUT_PORT","groupId":"89140ab9-9a64-3989-8149-ddfe4f2417d1","name":"input","comments":"","instanceIdentifier":"3a151173-e7fa-3c4e-82e8-75641079ebbf"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"edfa7040-902a-33a6-b170-c0d22e698d63"},{"identifier":"0d941deb-aa87-3e69-adac-5a41729cc11c","instanceIdentifier":"089c6871-0194-1000-ffff-ffff8370e4b0","name":"","source":{"id":"b0a156d1-c226-3abe-a7a2-e2fbb1713335","type":"OUTPUT_PORT","groupId":"a154cb19-3e97-32cc-8eb5-88fbadfa7333","name":"for processing (from Transform)","comments":"","instanceIdentifier":"827634fb-3e05-1129-a82c-a48885f2ca67"},"destination":{"id":"32d27f2c-2ec4-3be9-86fc-aee8c9aa8383","type":"INPUT_PORT","groupId":"563f6450-b155-303a-aca4-061a991a0089","name":"input","comments":"","instanceIdentifier":"e13b3152-4655-1c73-a1c0-ceed661a5e67"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"edfa7040-902a-33a6-b170-c0d22e698d63"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"6ae8d37a-d209-3449-b0ed-520fdab6e276","instanceIdentifier":"a9027487-835c-320e-a608-5e135198d3e9","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"schema-branch":null,"Allow Scientific Notation":"false","compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"full-schema-attribute","suppress-nulls":"always-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"schema-text-property","schema-protocol-version":"1","schema-version":null,"schema-text":"{\n\"namespace\": \"nifi\",\n\"name\": \"store_event\",\n\"type\": \"record\",\n\"fields\": [\n{ \"name\": \"serviceType\", \"type\":\"string\" },\n{ \"name\": \"service_type_id\", \"type\":\"string\" },\n{ \"name\": \"subServiceType\", \"type\":\"string\" },\n{ \"name\": \"sub_service_type_id\", \"type\":\"string\" },\n{ \"name\": \"kafka_key\", \"type\":\"string\" },\n{ \"name\": \"write_timestamp\", \"type\":\"string\" },\n{ \"name\": \"timestamp\", \"type\":\"string\" },\n{ \"name\": \"encoded_msg\", \"type\":\"string\" },\n{ \"name\": \"id\", \"type\":\"string\" },\n{ \"name\": \"is_decoded\", \"type\":\"string\" },\n{ \"name\": \"company\", \"type\":\"string\" },\n{ \"name\": \"company_id\", \"type\":\"string\" },\n{ \"name\": \"sub_service_group\", \"type\":\"string\" },\n{ \"name\": \"sub_service_group_id\", \"type\":\"string\" },\n{ \"name\": \"messageType\", \"type\":\"string\" },\n{ \"name\": \"message_type_id\", \"type\":\"string\" },\n{ \"name\": \"hiveTopic\", \"type\":\"string\" },\n{ \"name\": \"hivemq_topic_id\", \"type\":\"string\" },\n{ \"name\": \"kafka_topic\", \"type\":\"string\" },\n{ \"name\": \"kafka_topic_id\", \"type\":\"string\" },\n{ \"name\": \"geoCodingType\", \"type\":\"string\" },\n{ \"name\": \"geo_coding_type_id\", \"type\":\"string\" },\n{ \"name\": \"geo_hash\", \"type\":\"string\" },\n{ \"name\": \"geo_hash_id\", \"type\":\"string\" },\n{ \"name\": \"correlation_id\", \"type\":\"string\" }\n]\n}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"Allow Scientific Notation":{"name":"Allow Scientific Notation","displayName":"Allow Scientific Notation","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.1.5.0-215"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"edfa7040-902a-33a6-b170-c0d22e698d63"},{"identifier":"bbb12ea0-7e95-342e-ad23-fa8d3ec72473","instanceIdentifier":"b4c0df54-4503-32cd-be15-3b5a95637feb","name":"RedisDistributedMapCacheClientService (TLS)","comments":"","type":"org.apache.nifi.redis.service.RedisDistributedMapCacheClientService","bundle":{"group":"org.apache.nifi","artifact":"nifi-redis-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"redis-connection-pool":"dccbcabf-b78d-3ef8-98b6-e2ecbde385f6","redis-cache-ttl":"0 secs"},"propertyDescriptors":{"redis-connection-pool":{"name":"redis-connection-pool","displayName":"Redis Connection Pool","identifiesControllerService":true,"sensitive":false},"redis-cache-ttl":{"name":"redis-cache-ttl","displayName":"TTL","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.1.5.0-215"}},{"type":"org.apache.nifi.distributed.cache.client.DistributedMapCacheClient","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.1.5.0-215"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"edfa7040-902a-33a6-b170-c0d22e698d63"},{"identifier":"9ee5a744-5fd3-3907-b2fd-dd7dc4b19009","instanceIdentifier":"8db9213a-a5db-324d-95d9-a5ad28e4ce2d","name":"JsonTreeReader","comments":"","type":"org.apache.nifi.json.JsonTreeReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"schema-branch":null,"Max String Length":"20 MB","schema-application-strategy":"SELECTED_PART","Timestamp Format":null,"schema-inference-cache":null,"Date Format":null,"schema-name":"${schema.name}","starting-field-strategy":"ROOT_NODE","schema-registry":null,"starting-field-name":null,"Time Format":null,"schema-access-strategy":"schema-text-property","schema-version":null,"schema-text":"{\n\"namespace\": \"nifi\",\n\"name\": \"store_event\",\n\"type\": \"record\",\n\"fields\": [\n{ \"name\": \"serviceType\", \"type\":\"string\" },\n{ \"name\": \"service_type_id\", \"type\":\"string\" },\n{ \"name\": \"subServiceType\", \"type\":\"string\" },\n{ \"name\": \"sub_service_type_id\", \"type\":\"string\" },\n{ \"name\": \"kafka_key\", \"type\":\"string\" },\n{ \"name\": \"write_timestamp\", \"type\":\"string\" },\n{ \"name\": \"timestamp\", \"type\":\"string\" },\n{ \"name\": \"encoded_msg\", \"type\":\"string\" },\n{ \"name\": \"id\", \"type\":\"string\" },\n{ \"name\": \"is_decoded\", \"type\":\"string\" },\n{ \"name\": \"company\", \"type\":\"string\" },\n{ \"name\": \"company_id\", \"type\":\"string\" },\n{ \"name\": \"sub_service_group\", \"type\":\"string\" },\n{ \"name\": \"sub_service_group_id\", \"type\":\"string\" },\n{ \"name\": \"messageType\", \"type\":\"string\" },\n{ \"name\": \"message_type_id\", \"type\":\"string\" },\n{ \"name\": \"hiveTopic\", \"type\":\"string\" },\n{ \"name\": \"hivemq_topic_id\", \"type\":\"string\" },\n{ \"name\": \"kafka_topic\", \"type\":\"string\" },\n{ \"name\": \"kafka_topic_id\", \"type\":\"string\" },\n{ \"name\": \"geoCodingType\", \"type\":\"string\" },\n{ \"name\": \"geo_coding_type_id\", \"type\":\"string\" },\n{ \"name\": \"geo_hash\", \"type\":\"string\" },\n{ \"name\": \"geo_hash_id\", \"type\":\"string\" },\n{ \"name\": \"correlation_id\", \"type\":\"string\" }\n]\n}","Allow Comments":"false"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false},"schema-application-strategy":{"name":"schema-application-strategy","displayName":"Schema Application Strategy","identifiesControllerService":false,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"schema-inference-cache":{"name":"schema-inference-cache","displayName":"Schema Inference Cache","identifiesControllerService":true,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"starting-field-strategy":{"name":"starting-field-strategy","displayName":"Starting Field Strategy","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"starting-field-name":{"name":"starting-field-name","displayName":"Starting Field Name","identifiesControllerService":false,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false},"Allow Comments":{"name":"Allow Comments","displayName":"Allow Comments","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.1.5.0-215"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"edfa7040-902a-33a6-b170-c0d22e698d63"},{"identifier":"798dc05b-0b12-3c78-b90e-d87ed2590fb8","instanceIdentifier":"a8621026-93b7-366d-af37-180fc1c54afd","name":"step_etsi_messages DBCPConnectionPool","comments":"","type":"org.apache.nifi.dbcp.DBCPConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-dbcp-service-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"dbcp-min-idle-conns":"0","Max Wait Time":"500 millis","Database Driver Class Name":"org.postgresql.Driver","dbcp-min-evictable-idle-time":"30 mins","kerberos-principal":null,"Max Total Connections":"8","kerberos-credentials-service":null,"dbcp-max-conn-lifetime":"-1","Validation-query":null,"Database Connection URL":"jdbc:postgresql://cockroach_new.step.vodafone.com:26257/step_etsi_messages?user=root&sslmode=verify-full&sslkey=/var/lib/nifi/client.root.key.pk8&sslrootcert=/var/lib/nifi/ca.crt.der&sslcert=/var/lib/nifi/client.root.crt.der","dbcp-time-between-eviction-runs":"-1","Database User":"root","kerberos-user-service":null,"dbcp-soft-min-evictable-idle-time":"-1","database-driver-locations":"/var/lib/nifi","dbcp-max-idle-conns":"8"},"propertyDescriptors":{"kerberos-password":{"name":"kerberos-password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"dbcp-min-idle-conns":{"name":"dbcp-min-idle-conns","displayName":"Minimum Idle Connections","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Driver Class Name":{"name":"Database Driver Class Name","displayName":"Database Driver Class Name","identifiesControllerService":false,"sensitive":false},"dbcp-min-evictable-idle-time":{"name":"dbcp-min-evictable-idle-time","displayName":"Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"kerberos-principal":{"name":"kerberos-principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"Max Total Connections":{"name":"Max Total Connections","displayName":"Max Total Connections","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"dbcp-max-conn-lifetime":{"name":"dbcp-max-conn-lifetime","displayName":"Max Connection Lifetime","identifiesControllerService":false,"sensitive":false},"Validation-query":{"name":"Validation-query","displayName":"Validation query","identifiesControllerService":false,"sensitive":false},"Database Connection URL":{"name":"Database Connection URL","displayName":"Database Connection URL","identifiesControllerService":false,"sensitive":false},"dbcp-time-between-eviction-runs":{"name":"dbcp-time-between-eviction-runs","displayName":"Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"dbcp-soft-min-evictable-idle-time":{"name":"dbcp-soft-min-evictable-idle-time","displayName":"Soft Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"database-driver-locations":{"name":"database-driver-locations","displayName":"Database Driver Location(s)","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY","URL"]}},"dbcp-max-idle-conns":{"name":"dbcp-max-idle-conns","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true}},"controllerServiceApis":[{"type":"org.apache.nifi.dbcp.DBCPService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.1.5.0-215"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"edfa7040-902a-33a6-b170-c0d22e698d63"},{"identifier":"6f71ee0a-32cf-3453-b1fb-a0b2f9b4dcc7","instanceIdentifier":"43471307-72cd-3a59-af68-599ff698ce30","name":"RedisConnectionPoolService","comments":"","type":"org.apache.nifi.redis.service.RedisConnectionPoolService","bundle":{"group":"org.apache.nifi","artifact":"nifi-redis-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Pool - Min Evictable Idle Time":"60 seconds","Pool - Test On Borrow":"false","Pool - Test On Return":"false","Redis Mode":"Standalone","Pool - Max Idle":"8","Pool - Block When Exhausted":"true","Cluster Max Redirects":"5","Pool - Num Tests Per Eviction Run":"-1","Connection String":"dev-de-he.redis.step.vodafone.com:32379","Pool - Max Total":"8","Pool - Test On Create":"false","SSL Context Service":null,"Pool - Min Idle":"0","Pool - Test While Idle":"true","Pool - Time Between Eviction Runs":"30 seconds","Communication Timeout":"10 seconds","Pool - Max Wait Time":"10 seconds","Database Index":"0","Sentinel Master":null},"propertyDescriptors":{"Pool - Min Evictable Idle Time":{"name":"Pool - Min Evictable Idle Time","displayName":"Pool - Min Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"Pool - Test On Borrow":{"name":"Pool - Test On Borrow","displayName":"Pool - Test On Borrow","identifiesControllerService":false,"sensitive":false},"Pool - Test On Return":{"name":"Pool - Test On Return","displayName":"Pool - Test On Return","identifiesControllerService":false,"sensitive":false},"Redis Mode":{"name":"Redis Mode","displayName":"Redis Mode","identifiesControllerService":false,"sensitive":false},"Pool - Max Idle":{"name":"Pool - Max Idle","displayName":"Pool - Max Idle","identifiesControllerService":false,"sensitive":false},"Pool - Block When Exhausted":{"name":"Pool - Block When Exhausted","displayName":"Pool - Block When Exhausted","identifiesControllerService":false,"sensitive":false},"Cluster Max Redirects":{"name":"Cluster Max Redirects","displayName":"Cluster Max Redirects","identifiesControllerService":false,"sensitive":false},"Pool - Num Tests Per Eviction Run":{"name":"Pool - Num Tests Per Eviction Run","displayName":"Pool - Num Tests Per Eviction Run","identifiesControllerService":false,"sensitive":false},"Connection String":{"name":"Connection String","displayName":"Connection String","identifiesControllerService":false,"sensitive":false},"Pool - Max Total":{"name":"Pool - Max Total","displayName":"Pool - Max Total","identifiesControllerService":false,"sensitive":false},"Pool - Test On Create":{"name":"Pool - Test On Create","displayName":"Pool - Test On Create","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Pool - Min Idle":{"name":"Pool - Min Idle","displayName":"Pool - Min Idle","identifiesControllerService":false,"sensitive":false},"Pool - Test While Idle":{"name":"Pool - Test While Idle","displayName":"Pool - Test While Idle","identifiesControllerService":false,"sensitive":false},"Pool - Time Between Eviction Runs":{"name":"Pool - Time Between Eviction Runs","displayName":"Pool - Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false},"Communication Timeout":{"name":"Communication Timeout","displayName":"Communication Timeout","identifiesControllerService":false,"sensitive":false},"Pool - Max Wait Time":{"name":"Pool - Max Wait Time","displayName":"Pool - Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Index":{"name":"Database Index","displayName":"Database Index","identifiesControllerService":false,"sensitive":false},"Sentinel Master":{"name":"Sentinel Master","displayName":"Sentinel Master","identifiesControllerService":false,"sensitive":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true}},"controllerServiceApis":[{"type":"org.apache.nifi.redis.RedisConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-redis-service-api-nar","version":"1.18.0.2.1.5.0-215"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"edfa7040-902a-33a6-b170-c0d22e698d63"},{"identifier":"380cfd21-cc05-373c-89de-eb6e5562b22a","instanceIdentifier":"2451cec8-b884-3a6b-8464-a5527038dfe2","name":"cfg_manager DBCPConnectionPool","comments":"","type":"org.apache.nifi.dbcp.DBCPConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-dbcp-service-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"dbcp-min-idle-conns":"0","Max Wait Time":"500 millis","Database Driver Class Name":"org.postgresql.Driver","dbcp-min-evictable-idle-time":"30 mins","kerberos-principal":null,"Max Total Connections":"8","kerberos-credentials-service":null,"dbcp-max-conn-lifetime":"-1","Validation-query":null,"Database Connection URL":"jdbc:postgresql://cockroach_new.step.vodafone.com:26257/cfg_manager?user=root&sslmode=verify-full&sslkey=/var/lib/nifi/client.root.key.pk8&sslrootcert=/var/lib/nifi/ca.crt.der&sslcert=/var/lib/nifi/client.root.crt.der","dbcp-time-between-eviction-runs":"-1","Database User":"root","kerberos-user-service":null,"dbcp-soft-min-evictable-idle-time":"-1","database-driver-locations":"/var/lib/nifi","dbcp-max-idle-conns":"8"},"propertyDescriptors":{"kerberos-password":{"name":"kerberos-password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"dbcp-min-idle-conns":{"name":"dbcp-min-idle-conns","displayName":"Minimum Idle Connections","identifiesControllerService":false,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Driver Class Name":{"name":"Database Driver Class Name","displayName":"Database Driver Class Name","identifiesControllerService":false,"sensitive":false},"dbcp-min-evictable-idle-time":{"name":"dbcp-min-evictable-idle-time","displayName":"Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"kerberos-principal":{"name":"kerberos-principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"Max Total Connections":{"name":"Max Total Connections","displayName":"Max Total Connections","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"dbcp-max-conn-lifetime":{"name":"dbcp-max-conn-lifetime","displayName":"Max Connection Lifetime","identifiesControllerService":false,"sensitive":false},"Validation-query":{"name":"Validation-query","displayName":"Validation query","identifiesControllerService":false,"sensitive":false},"Database Connection URL":{"name":"Database Connection URL","displayName":"Database Connection URL","identifiesControllerService":false,"sensitive":false},"dbcp-time-between-eviction-runs":{"name":"dbcp-time-between-eviction-runs","displayName":"Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"dbcp-soft-min-evictable-idle-time":{"name":"dbcp-soft-min-evictable-idle-time","displayName":"Soft Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"database-driver-locations":{"name":"database-driver-locations","displayName":"Database Driver Location(s)","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY","URL"]}},"dbcp-max-idle-conns":{"name":"dbcp-max-idle-conns","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true}},"controllerServiceApis":[{"type":"org.apache.nifi.dbcp.DBCPService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.1.5.0-215"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"edfa7040-902a-33a6-b170-c0d22e698d63"},{"identifier":"dccbcabf-b78d-3ef8-98b6-e2ecbde385f6","instanceIdentifier":"206ec632-3913-3f44-853a-3aa988539904","name":"RedisConnectionPoolService (TLS)","comments":"","type":"org.apache.nifi.redis.service.RedisConnectionPoolService","bundle":{"group":"org.apache.nifi","artifact":"nifi-redis-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Pool - Min Evictable Idle Time":"60 seconds","Pool - Test On Borrow":"false","Pool - Test On Return":"false","Redis Mode":"Standalone","Pool - Max Idle":"8","Pool - Block When Exhausted":"true","Cluster Max Redirects":"5","Pool - Num Tests Per Eviction Run":"-1","Connection String":"dev-de-he.redis.step.vodafone.com:6379","Pool - Max Total":"8","Pool - Test On Create":"false","SSL Context Service":"4c729aec-89f3-3dae-9868-26f362968fce","Pool - Min Idle":"0","Pool - Test While Idle":"true","Pool - Time Between Eviction Runs":"30 seconds","Communication Timeout":"10 seconds","Pool - Max Wait Time":"10 seconds","Database Index":"0","Sentinel Master":null},"propertyDescriptors":{"Pool - Min Evictable Idle Time":{"name":"Pool - Min Evictable Idle Time","displayName":"Pool - Min Evictable Idle Time","identifiesControllerService":false,"sensitive":false},"Pool - Test On Borrow":{"name":"Pool - Test On Borrow","displayName":"Pool - Test On Borrow","identifiesControllerService":false,"sensitive":false},"Pool - Test On Return":{"name":"Pool - Test On Return","displayName":"Pool - Test On Return","identifiesControllerService":false,"sensitive":false},"Redis Mode":{"name":"Redis Mode","displayName":"Redis Mode","identifiesControllerService":false,"sensitive":false},"Pool - Max Idle":{"name":"Pool - Max Idle","displayName":"Pool - Max Idle","identifiesControllerService":false,"sensitive":false},"Pool - Block When Exhausted":{"name":"Pool - Block When Exhausted","displayName":"Pool - Block When Exhausted","identifiesControllerService":false,"sensitive":false},"Cluster Max Redirects":{"name":"Cluster Max Redirects","displayName":"Cluster Max Redirects","identifiesControllerService":false,"sensitive":false},"Pool - Num Tests Per Eviction Run":{"name":"Pool - Num Tests Per Eviction Run","displayName":"Pool - Num Tests Per Eviction Run","identifiesControllerService":false,"sensitive":false},"Connection String":{"name":"Connection String","displayName":"Connection String","identifiesControllerService":false,"sensitive":false},"Pool - Max Total":{"name":"Pool - Max Total","displayName":"Pool - Max Total","identifiesControllerService":false,"sensitive":false},"Pool - Test On Create":{"name":"Pool - Test On Create","displayName":"Pool - Test On Create","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Pool - Min Idle":{"name":"Pool - Min Idle","displayName":"Pool - Min Idle","identifiesControllerService":false,"sensitive":false},"Pool - Test While Idle":{"name":"Pool - Test While Idle","displayName":"Pool - Test While Idle","identifiesControllerService":false,"sensitive":false},"Pool - Time Between Eviction Runs":{"name":"Pool - Time Between Eviction Runs","displayName":"Pool - Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false},"Communication Timeout":{"name":"Communication Timeout","displayName":"Communication Timeout","identifiesControllerService":false,"sensitive":false},"Pool - Max Wait Time":{"name":"Pool - Max Wait Time","displayName":"Pool - Max Wait Time","identifiesControllerService":false,"sensitive":false},"Database Index":{"name":"Database Index","displayName":"Database Index","identifiesControllerService":false,"sensitive":false},"Sentinel Master":{"name":"Sentinel Master","displayName":"Sentinel Master","identifiesControllerService":false,"sensitive":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true}},"controllerServiceApis":[{"type":"org.apache.nifi.redis.RedisConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-redis-service-api-nar","version":"1.18.0.2.1.5.0-215"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"edfa7040-902a-33a6-b170-c0d22e698d63"},{"identifier":"4df2e6d6-4a64-34af-b620-a5ec9b42dccc","instanceIdentifier":"0815f4dc-d52a-3d7f-b87c-197e5f171755","name":"StandardRestrictedSSLContextService (MDS Connector TLS)","comments":"","type":"org.apache.nifi.ssl.StandardRestrictedSSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-ssl-context-service-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Truststore Type":"PKCS12","SSL Protocol":"TLS","Keystore Type":"PKCS12","Truststore Filename":"/var/lib/nifi/connector_truststore.jks","Keystore Filename":"/var/lib/nifi/connector-dev-de-he.mds.step.vodafone.com.jks"},"propertyDescriptors":{"Truststore Type":{"name":"Truststore Type","displayName":"Truststore Type","identifiesControllerService":false,"sensitive":false},"SSL Protocol":{"name":"SSL Protocol","displayName":"TLS Protocol","identifiesControllerService":false,"sensitive":false},"Keystore Type":{"name":"Keystore Type","displayName":"Keystore Type","identifiesControllerService":false,"sensitive":false},"Truststore Filename":{"name":"Truststore Filename","displayName":"Truststore Filename","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Keystore Password":{"name":"Keystore Password","displayName":"Keystore Password","identifiesControllerService":false,"sensitive":true},"key-password":{"name":"key-password","displayName":"Key Password","identifiesControllerService":false,"sensitive":true},"Truststore Password":{"name":"Truststore Password","displayName":"Truststore Password","identifiesControllerService":false,"sensitive":true},"Keystore Filename":{"name":"Keystore Filename","displayName":"Keystore Filename","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"controllerServiceApis":[{"type":"org.apache.nifi.ssl.RestrictedSSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.1.5.0-215"}},{"type":"org.apache.nifi.ssl.SSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.1.5.0-215"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"edfa7040-902a-33a6-b170-c0d22e698d63"},{"identifier":"9b66758e-caf7-3087-8482-eba057a30823","instanceIdentifier":"d4cae14a-72ba-3d32-a26e-6651185714f1","name":"StandardSSLContextService","comments":"","type":"org.apache.nifi.ssl.StandardSSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-ssl-context-service-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Truststore Type":"JKS","SSL Protocol":"TLS","Keystore Type":"JKS","Truststore Filename":"/var/lib/nifi/cm-auto-global_truststore.jks","Keystore Filename":"/var/lib/nifi/cm-auto-host_keystore.jks"},"propertyDescriptors":{"Truststore Type":{"name":"Truststore Type","displayName":"Truststore Type","identifiesControllerService":false,"sensitive":false},"SSL Protocol":{"name":"SSL Protocol","displayName":"TLS Protocol","identifiesControllerService":false,"sensitive":false},"Keystore Type":{"name":"Keystore Type","displayName":"Keystore Type","identifiesControllerService":false,"sensitive":false},"Truststore Filename":{"name":"Truststore Filename","displayName":"Truststore Filename","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Keystore Password":{"name":"Keystore Password","displayName":"Keystore Password","identifiesControllerService":false,"sensitive":true},"key-password":{"name":"key-password","displayName":"Key Password","identifiesControllerService":false,"sensitive":true},"Truststore Password":{"name":"Truststore Password","displayName":"Truststore Password","identifiesControllerService":false,"sensitive":true},"Keystore Filename":{"name":"Keystore Filename","displayName":"Keystore Filename","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"controllerServiceApis":[{"type":"org.apache.nifi.ssl.SSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.1.5.0-215"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"edfa7040-902a-33a6-b170-c0d22e698d63"},{"identifier":"4c729aec-89f3-3dae-9868-26f362968fce","instanceIdentifier":"ec597035-0187-1000-ffff-ffffdeac558b","name":"StandardRestrictedSSLContextService (Redis TLS)","comments":"","type":"org.apache.nifi.ssl.StandardRestrictedSSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-ssl-context-service-nar","version":"1.18.0.2.1.5.0-215"},"properties":{"Truststore Type":"PKCS12","SSL Protocol":"TLS","Keystore Type":"PKCS12","Truststore Filename":"/var/lib/nifi/redis_truststore.jks","Keystore Filename":"/var/lib/nifi/redis.jks"},"propertyDescriptors":{"Truststore Type":{"name":"Truststore Type","displayName":"Truststore Type","identifiesControllerService":false,"sensitive":false},"SSL Protocol":{"name":"SSL Protocol","displayName":"TLS Protocol","identifiesControllerService":false,"sensitive":false},"Keystore Type":{"name":"Keystore Type","displayName":"Keystore Type","identifiesControllerService":false,"sensitive":false},"Truststore Filename":{"name":"Truststore Filename","displayName":"Truststore Filename","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Keystore Password":{"name":"Keystore Password","displayName":"Keystore Password","identifiesControllerService":false,"sensitive":true},"key-password":{"name":"key-password","displayName":"Key Password","identifiesControllerService":false,"sensitive":true},"Truststore Password":{"name":"Truststore Password","displayName":"Truststore Password","identifiesControllerService":false,"sensitive":true},"Keystore Filename":{"name":"Keystore Filename","displayName":"Keystore Filename","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"controllerServiceApis":[{"type":"org.apache.nifi.ssl.RestrictedSSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.1.5.0-215"}},{"type":"org.apache.nifi.ssl.SSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.1.5.0-215"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"08960019-0194-1000-0000-000033a8274c"}],"variables":{},"parameterContextName":"v2x.integration.framework.context","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","componentType":"PROCESS_GROUP","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE"},"externalControllerServices":{},"parameterContexts":{"v2x.data.replication.context":{"name":"v2x.data.replication.context","parameters":[{"name":"db.configmanager.query.boundaries","description":"This query must be changed for each environment, and the GUID used changed for each ServiceArea identifier","sensitive":false,"provided":false,"value":"select unnest(string_to_array(replace(replace(bound.geohashes,'[',''),']',''), ', ')) as geohash, (Case when a.name is null then b.name else a.name end) from boundaries bound left join service_area a on bound.service_area_a = a.id and a.name != '#NAME#' left join service_area b on bound.service_area_b = b.id and b.name != '#NAME#';"},{"name":"kafka.security.username","description":"","sensitive":false,"provided":false,"value":"pocuser1"},{"name":"kafka.headers.replication","description":"","sensitive":false,"provided":false,"value":"(kafka.topic.pub)|(geo_hash)|(kafka.key)|(replication)"},{"name":"kafka.topic.data.replication.sent","description":"","sensitive":false,"provided":false,"value":"v2x.events.service.area.data.replication"},{"name":"kafka.topic.data.replication.pattern.received","description":"","sensitive":false,"provided":false,"value":"\\w*.v2x.events.service.area.data.replication"},{"name":"db.configmanager.query.servicearea.name","description":"Default Service Area name for the current environment.\n((will need to be changed for each environment))","sensitive":false,"provided":false,"value":"Frankfurt"},{"name":"db.configmanager.query.servicearea","description":"","sensitive":false,"provided":false,"value":"select distinct id from service_area where name = '#NAME#';"},{"name":"db.configmanager.query.typeAdapter","description":"","sensitive":false,"provided":false,"value":"MOBILITHEK"},{"name":"kafka.topic.filter.for_data_replication","description":"","sensitive":false,"provided":false,"value":"v2x.(cam|denm|ivim).*.incoming"},{"name":"flow.crossborder.enabled","description":"","sensitive":false,"provided":false,"value":"false"},{"name":"kafka.group.consumer.default","description":"Default kafka group id for Data Replication flows","sensitive":false,"provided":false,"value":"v2x.grp.data.replication"},{"name":"db.configmanager.table.boundaries","description":"","sensitive":false,"provided":false,"value":"boundaries"},{"name":"db.configmanager.query.adapters","description":"","sensitive":false,"provided":false,"value":"select id, entity_id, type, created_on, modified_on from adapter WHERE   type ='#TYPE#';"},{"name":"kafka.brokers","description":"","sensitive":false,"provided":false,"value":"stepwrk04.step.vodafone.com:9093,stepwrk05.step.vodafone.com:9093,stepwrk06.step.vodafone.com:9093"},{"name":"redis.password","description":"redis.password","sensitive":true,"provided":false},{"name":"kafka.security.password","description":"","sensitive":true,"provided":false}],"inheritedParameterContexts":[],"componentType":"PARAMETER_CONTEXT"},"v2x.integration.framework.context":{"name":"v2x.integration.framework.context","parameters":[{"name":"kafka.topic.filtered_event","description":"","sensitive":false,"provided":false,"value":"v2x.filtered_events.dev"},{"name":"db.configmanager.table.adapter.property","description":"","sensitive":false,"provided":false,"value":"adapter_property"},{"name":"amqp.server.host","description":"Commsignia Central Server (host)","sensitive":false,"provided":false,"value":"zenzic.commsignia.io"},{"name":"vodafone.rabbitmq.server.port","description":"","sensitive":false,"provided":false,"value":"5672"},{"name":"amqp.server.ssl.key.password","description":"Commsignia central ssl configuration (Private Key password)","sensitive":true,"provided":false},{"name":"lifecycle.cachingActions","description":"Contains the possible actions that require caching (at the Lifecycle Controller)","sensitive":false,"provided":false,"value":"UPDATE,CANCEL"},{"name":"flow.enabled.commsignia.outbound","description":"Flag that indicates if the outbound (for Commsignia) is enabled","sensitive":false,"provided":false,"value":"false"},{"name":"credencials.password","description":"","sensitive":true,"provided":false},{"name":"mds.custom.module.path","description":"","sensitive":false,"provided":false,"value":"/var/lib/nifi/jolt/v2x-jolt-transformer-0.0.10.jar"},{"name":"amqp.server.ssl.truststore.filename","description":"TrustStore file containing Commsignia root ca certificate","sensitive":false,"provided":false,"value":"/var/lib/nifi/truststore_commsignia.p12"},{"name":"kafka.group.flowmanager.ssb.rep","description":"","sensitive":false,"provided":false,"value":"v2x.flowmanager.ssb.inbound.incoming.grp"},{"name":"kafka.topic.lifecycle.repeatable.1sec","description":"","sensitive":false,"provided":false,"value":"v2x.lifecycle.repeatable.new"},{"name":"kafka.topic.outbound.incoming.test","description":"","sensitive":false,"provided":false,"value":"v2x.flowmanager.outbound.incoming.test"},{"name":"kafka.group.transformation","description":"","sensitive":false,"provided":false,"value":"v2x.nifi.transformation.id"},{"name":"commsignia.geohash.filter","description":"","sensitive":false,"provided":false,"value":""},{"name":"amqp.server.ssl.keystore.filename","description":"Keystore containing the Certificate and Private Key used for client side authentication against the AMQP Server","sensitive":false,"provided":false,"value":"/var/lib/nifi/client_commsignia.p12"},{"name":"kafka.topic.transformation","description":"Flow Manager - Transformation topic name (input)","sensitive":false,"provided":false,"value":"v2x.flowmanager.transform.incoming"},{"name":"kafka.group.outbound","description":"","sensitive":false,"provided":false,"value":"v2x.flowmanager.outbound.incoming.grp"},{"name":"kafka.group.outbound.dispatcher","description":"","sensitive":false,"provided":false,"value":"v2x.grp.dispatcher.filtered_events.devx.new"},{"name":"amqp.routingkey.ntis.ivim","description":"","sensitive":false,"provided":false,"value":"IVIM.public.1_3_1.3"},{"name":"kafka.headers.attribute-list-name","description":"Name of kafka Header containing the list of attributes associated with each message","sensitive":false,"provided":false,"value":"attributelist"},{"name":"amqp.server.port","description":"Commsignia central server port (secure - amqps)","sensitive":false,"provided":false,"value":"5671"},{"name":"kafka.topic.outbound.incoming","description":"","sensitive":false,"provided":false,"value":"v2x.flowmanager.outbound.incoming"},{"name":"amqp.routingkey.generator.ivim","description":"","sensitive":false,"provided":false,"value":"IVIM.private.1_3_1.3"},{"name":"kafka.topic.configurations","description":"","sensitive":false,"provided":false,"value":"v2x.cache.configurations"},{"name":"commsignia.testing.filter2","description":"","sensitive":false,"provided":false,"value":"gcp06w31,gcp06qvk"},{"name":"kafka.group.flowmanager","description":"","sensitive":false,"provided":false,"value":"v2x.flowmanager.inbound.incoming.grp"},{"name":"commsignia.testing.filter3","description":"","sensitive":false,"provided":false,"value":"gcp06tuv,gcp06wj0"},{"name":"vodafone.rabbitmq.server.password","description":"","sensitive":true,"provided":false},{"name":"commsignia.testing.filter1","description":"","sensitive":false,"provided":false,"value":"gcp06w4g,gcp06w2s"},{"name":"commsignia.testing.filter4","description":"","sensitive":false,"provided":false,"value":"gcp06qx7,gcp06tuq"},{"name":"commsignia.filter.outbound.messageTypes","description":"v2x.(cam|denm|vam|cpm).*.incoming","sensitive":false,"provided":false,"value":"v2x.(cam|denm).*.incoming"},{"name":"amqp.server.ssl.truststore.password","description":"Truststore password","sensitive":true,"provided":false},{"name":"commsignia.testing.filter5","description":"","sensitive":false,"provided":false,"value":"gcp06tvm"},{"name":"commsignia.format.instant.length","description":"","sensitive":false,"provided":false,"value":"24"},{"name":"amqp.server.ssl.keystore.password","description":"Password for the Keystored used with AMQP server","sensitive":true,"provided":false},{"name":"amqp.routingkey.generator.denm","description":"","sensitive":false,"provided":false,"value":"DENM.private.1_3_1.3"},{"name":"transformation.xslt.latlong.correction","description":"","sensitive":false,"provided":false,"value":"2147483648"},{"name":"amqp.server.password","description":"Commsignia central user password","sensitive":true,"provided":false},{"name":"kafka.topic.mainflow","description":"Flow Manager - Main Topic name","sensitive":false,"provided":false,"value":"v2x.flowmanager.incoming"},{"name":"kafka.pattern.key","description":"Defines a template kafka key to be used inside the V2X Step platform.","sensitive":false,"provided":false,"value":"v2x/#1/#2/g#3#4"},{"name":"db.configmanager.table.adapter.property.query","description":"","sensitive":false,"provided":false,"value":"select ap.value, e.external_id from adapter_property ap join adapter a  on a.id=ap.adapter_id join entity e on e.id=a.entity_id where  ap.name='endpoint' and ap.value!='' and a.type='REST'"},{"name":"kafka.group.encoder","description":"","sensitive":false,"provided":false,"value":"v2x.nifi.encoder.id"},{"name":"kafka.security.username","description":"Kafka User","sensitive":false,"provided":false,"value":"pocuser3"},{"name":"reference.timestamp","description":"Reference value used to calculate the TST field for the LongPositionVector structure.","sensitive":false,"provided":false,"value":"2004/01/01 00:00:00.000Z"},{"name":"kafka.pattern.key.others","description":"","sensitive":false,"provided":false,"value":"others/#1/#2/g#3#4"},{"name":"logging.prefix.provider.ntis","description":"","sensitive":false,"provided":false,"value":"INTERFACE-NTIS "},{"name":"kafka.topic.outbound.error","description":"","sensitive":false,"provided":false,"value":"v2x.flowmanager.error.incoming"},{"name":"commsignia.format.instant","description":"","sensitive":false,"provided":false,"value":"yyyy-MM-dd'T'HH:mm:ss.SSSSSS'Z'"},{"name":"metadata.attributes.regex","description":"Regular expression that describes attributes to be included in the metadata json structure","sensitive":false,"provided":false,"value":"reference.*|message.*|customer.*|action|provider|validation.*|description|operator.actions.*"},{"name":"mds.custom.transformation.class","description":"","sensitive":false,"provided":false,"value":"step.v2xjolttransformer.transformers"},{"name":"geohash.divider","description":"","sensitive":false,"provided":false,"value":"10000000"},{"name":"logging.prefix.engine.transformation","description":"","sensitive":false,"provided":false,"value":"integrator.engine.transformation"},{"name":"kafka.brokers","description":"Kafka Brokers","sensitive":false,"provided":false,"value":"stepwrk04.step.vodafone.com:9093,stepwrk05.step.vodafone.com:9093,stepwrk06.step.vodafone.com:9093"},{"name":"kafka.topic.staging","description":"Kafka Staging topic","sensitive":false,"provided":false,"value":"v2x.integrator.kafka.topic.staging"},{"name":"configuration.manager","description":"","sensitive":false,"provided":false,"value":"configuration"},{"name":"kafka.topic.lifecycle","description":"Lifecycle Controller topic name (input)","sensitive":false,"provided":false,"value":"v2x.lifecycle.incoming"},{"name":"integrator.filter.expression","description":"","sensitive":false,"provided":false,"value":"${message.type:equalsIgnoreCase('POIM')}"},{"name":"duration.multiplier","description":"","sensitive":false,"provided":false,"value":"1000"},{"name":"kafka.security.password","description":"Kafka password","sensitive":true,"provided":false},{"name":"kafka.pattern.topic","description":"Defines the template for the Kafka topic used inside V2X Step","sensitive":false,"provided":false,"value":"v2x.#1.#2.outgoing"},{"name":"Table Name","description":"","sensitive":false,"provided":false,"value":"executions"},{"name":"kafka.security.password1","description":"","sensitive":true,"provided":false},{"name":"files.xslt.path","description":"Location of XSLT files","sensitive":false,"provided":false,"value":"/var/lib/nifi/xslt/"},{"name":"kafka.group.lifecycle","description":"","sensitive":false,"provided":false,"value":"v2x.lifecycle.inbound.incoming.grp"},{"name":"geohash.precision","description":"","sensitive":false,"provided":false,"value":"8"},{"name":"vodafone.rabbitmq.truststore.filename","description":"","sensitive":false,"provided":false,"value":"/var/lib/nifi/truststore-uk-lab.p12"},{"name":"kafka.topic.encoder","description":"Flow Manager - Encoder Engine topic name (input)","sensitive":false,"provided":false,"value":"v2x.flowmanager.encoder.incoming"},{"name":"amqp.server.username","description":"Commsignia Central Server (username)","sensitive":false,"provided":false,"value":"zenzic-dev"},{"name":"credencials.username","description":"","sensitive":false,"provided":false,"value":"pocuser1"},{"name":"kafka.topic.lifecycle.repeatable.10sec","description":"","sensitive":false,"provided":false,"value":"v2x.lifecycle.repeatable.slower"},{"name":"flow.outbound.active","description":"","sensitive":false,"provided":false,"value":"false"},{"name":"kafka.topic.pre-staging","description":"","sensitive":false,"provided":false,"value":"v2x.integrator.kafka.topic.pre-staging"},{"name":"vodafone.rabbitmq.truststore.password","description":"","sensitive":true,"provided":false},{"name":"vodafone.rabbitmq.server.host","description":"","sensitive":false,"provided":false,"value":"217.138.76.66"},{"name":"kafka.topic.lifecycle.repeatable.4sec","description":"","sensitive":false,"provided":false,"value":"v2x.lifecycle.repeatable.faster"},{"name":"kafka.group.error","description":"","sensitive":false,"provided":false,"value":"v2x.flowmanager.error.incoming.grp"},{"name":"lifecycle.attributes.propagation","description":"","sensitive":false,"provided":false,"value":"validTo|action|message.*|kafka.*|provider"},{"name":"amqp.routingkey.ntis.denm","description":"","sensitive":false,"provided":false,"value":"DENM.public.1_3_1.3"},{"name":"vodafone.rabbitmq.server.username","description":"","sensitive":false,"provided":false,"value":"ntis"},{"name":"logging.prefix.provider.commsignia","description":"","sensitive":false,"provided":false,"value":"INTERFACE-COMMSIGNIA "},{"name":"vodafone.rabbitmq.server.host.fqdn","description":"","sensitive":false,"provided":false,"value":"lab-gb-lnd.rabbitmq.step.vodafone.com"},{"name":"kafka.security.username1","description":"","sensitive":false,"provided":false,"value":"pocuser1"},{"name":"kafka.pattern.topic.others","description":"","sensitive":false,"provided":false,"value":"others.#1.#2.outgoing"},{"name":"metadata.attributes.remove","description":"Regular expression to remove everything that is not \"metadata\"","sensitive":false,"provided":false,"value":"^(?!metadata$).*$"},{"name":"vodafone.rabbitmq.server.port.ssl","description":"","sensitive":false,"provided":false,"value":"5671"}],"inheritedParameterContexts":["v2x.data.replication.context"],"componentType":"PARAMETER_CONTEXT"}},"flowEncodingVersion":"1.0","parameterProviders":{},"latest":false}